import{H as y}from"./_chunk.93f1ef41.js";import{E as k}from"./_chunk.87357101.js";import{t as w}from"./_chunk.42a4e4d6.js";import{L as v}from"./_chunk.614fe72f.js";import{_ as x,r as m,o as s,c as n,a as c,n as d,b as o,w as u,F as h,d as b,h as l,e as L,t as r}from"./main.91e8f9e7.js";const V={name:"TeamView",components:{Loader:v,Heading:y},data(){return{team:null,errors:[]}},methods:{async printOut(){let a=new k({unit:"px",format:"a4"});a.addImage("/wp-content/themes/player-key/src/assets/images/logo-player-key.png","JPEG",160,40,147,87),a.html(document.querySelector(".team__holder"),{callback:_=>{_.save(this.team.title)},x:5,y:140,width:360,windowWidth:760})},async fetchData(){await w.getTeamData({token:this.$store.state.authentication.token,slug:this.$route.params.slug}).then(a=>{a.data.success?this.team=a.data.data:this.errors.push(a.data.data)})}},mounted(){this.fetchData()}},C={key:0,class:"team"},D={class:"wrapper team__wrapper"},T={class:"team__holder"},H=["src","alt"],N={class:"team__athlete-name"},O={class:"team__athlete-birthday"},B={class:"team__athlete-parent"},E={key:1,class:"team__athlete-current-grade"};function I(a,_,z,F,t,i){const p=m("Loader"),g=m("Heading"),f=m("RouterLink");return s(),n(h,null,[c(p,{class:d({active:t.team===null})},null,8,["class"]),t.team!==null?(s(),n("div",C,[o("div",D,[o("div",T,[c(g,null,{default:u(()=>[L(r(t.team.title),1)]),_:1}),o("ul",{class:d(["team__athletes",{"team__athletes--1":t.team.athletes.length%3===1,"team__athletes--2":t.team.athletes.length%2===0,"team__athletes--3":t.team.athletes.length%3===0}])},[(s(!0),n(h,null,b(t.team.athletes,e=>(s(),n("li",{key:e.ID,class:"team__athlete"},[c(f,{to:{name:"athlete",params:{slug:e.slug}}},{default:u(()=>[e.headshot_file?(s(),n("img",{key:0,src:e.headshot_file.sizes["athlete-headshot"],alt:`${e.first_name} ${e.last_name}`,class:"team__athlete-headshot"},null,8,H)):l("",!0),o("h3",N,r(`${e.first_name} ${e.last_name}`),1),o("span",O,r(e.birthday),1),o("span",B,r(e.parent_name),1),e.current_grade?(s(),n("span",E,r(e.current_grade),1)):l("",!0)]),_:2},1032,["to"])]))),128))],2)]),t.team.athletes.length>0?(s(),n("button",{key:0,onClick:_[0]||(_[0]=(...e)=>i.printOut&&i.printOut(...e)),class:"button button--lime team__printout"},"PrintOut")):l("",!0)])])):l("",!0)],64)}const G=x(V,[["render",I],["__scopeId","data-v-aa8d68ec"]]);export{G as default};
