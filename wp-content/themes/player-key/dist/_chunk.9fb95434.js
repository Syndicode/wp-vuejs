import{E as V}from"./_chunk.87357101.js";import{H as b}from"./_chunk.93f1ef41.js";import{a as C}from"./_chunk.9803d0f1.js";import{L}from"./_chunk.614fe72f.js";import{E as S}from"./_chunk.3293e5cc.js";import{_ as x,r as n,o,c,a as u,n as r,b as t,g as v,w as p,h as _,t as s,F as I,e as m,p as B,j as D}from"./main.91e8f9e7.js";const E={name:"AthleteView",components:{ErrorList:S,Loader:L,Heading:b},data(){return{athlete:null,errors:[]}},methods:{async downloadVerificationCard(){let a=new V({unit:"px",format:"a4"});a.addImage("/wp-content/themes/player-key/src/assets/images/logo-player-key.png","JPEG",160,40,147,87);const i=document.querySelector(".athlete__content").cloneNode(!0);i.querySelector(".heading").children[0].style.marginRight="20px",i.querySelector(".athlete__data-row--report-card").style.display="none",i.querySelector(".athlete__data-row--certificate").style.display="none",a.html(i.innerHTML,{callback:h=>{h.save(`${this.athlete.first_name}_${this.athlete.last_name}.pdf`)},x:15,y:190,width:400,windowWidth:760})},async fetchData(){await C.getAthleteBy({field:"slug",token:this.$store.state.authentication.token,slug:this.$route.params.slug}).then(a=>{a.data.success?this.athlete=a.data.data:this.errors.push(a.data.data)})}},mounted(){this.fetchData()}},l=a=>(B("data-v-7cac08aa"),a=a(),D(),a),A={class:"athlete"},H={class:"wrapper athlete__wrapper"},R={key:2,class:"athlete__content-holder"},N={class:"athlete__content"},q=["src","alt"],F={class:"athlete__data"},P={class:"athlete__data-row"},T=l(()=>t("div",{class:"athlete__data-indicator"},"ID",-1)),z={class:"athlete__data-value"},j={class:"athlete__data-row"},G=l(()=>t("div",{class:"athlete__data-indicator"},"Birthday",-1)),J={class:"athlete__data-value"},M={class:"athlete__data-row"},W=l(()=>t("div",{class:"athlete__data-indicator"},"Current grade",-1)),K={class:"athlete__data-value"},O={class:"athlete__data-row"},Q=l(()=>t("div",{class:"athlete__data-indicator"},"Parent",-1)),U={class:"athlete__data-value"},X={class:"athlete__data-row"},Y=l(()=>t("div",{class:"athlete__data-indicator"},"Team",-1)),Z={class:"athlete__data-value"},$={class:"athlete__data-row"},tt=l(()=>t("div",{class:"athlete__data-indicator"},"Coach",-1)),et={class:"athlete__data-value"},at={key:0,class:"athlete__data-row"},st=l(()=>t("div",{class:"athlete__data-indicator"},"Social link",-1)),lt={class:"athlete__data-value"},ot=["href"],_t={class:"athlete__data-row"},it=l(()=>t("div",{class:"athlete__data-indicator"},"Status",-1)),ct={class:"athlete__data-value"},nt={class:"athlete__data-row"},rt=l(()=>t("div",{class:"athlete__data-indicator"},"Payment status",-1)),ht={class:"athlete__data-value"},dt={class:"athlete__data-row athlete__data-row--report-card"},ut=l(()=>t("div",{class:"athlete__data-indicator"},"Report card",-1)),vt={class:"athlete__data-value"},pt=["href"],mt={class:"athlete__data-row athlete__data-row--certificate"},ft=l(()=>t("div",{class:"athlete__data-indicator"},"Birth certificate/ID",-1)),wt={class:"athlete__data-value"},yt=["href"];function kt(a,i,h,gt,e,d){const f=n("Loader"),w=n("RouterLink"),y=n("ErrorList"),k=n("Heading");return o(),c(I,null,[u(f,{class:r({active:e.athlete===null&&e.errors.length===0})},null,8,["class"]),t("div",A,[t("div",H,[this.$store.state.authentication.currentRole==="parent"||this.$store.state.authentication.currentRole==="coach"?(o(),v(w,{key:0,to:{name:"board-entity",params:{entity:"athletes"}},class:"athlete__back-link"},{default:p(()=>[m("All athletes ")]),_:1})):_("",!0),e.errors.length?(o(),v(y,{key:1,errors:e.errors},null,8,["errors"])):_("",!0),e.athlete!==null?(o(),c("div",R,[t("div",N,[u(k,null,{default:p(()=>[t("span",null,s(e.athlete.first_name),1),m(),t("span",null,s(e.athlete.last_name),1)]),_:1}),e.athlete.headshot_file?(o(),c("img",{key:0,src:e.athlete.headshot_file.sizes["athlete-headshot"],alt:`${e.athlete.first_name} ${e.athlete.last_name}`,class:"athlete__headshot"},null,8,q)):_("",!0),t("div",F,[t("div",P,[T,t("div",z,s(e.athlete.ID),1)]),t("div",j,[G,t("div",J,s(e.athlete.birthday),1)]),t("div",M,[W,t("div",K,s(e.athlete.current_grade),1)]),t("div",O,[Q,t("div",U,s(e.athlete.parent_name),1)]),t("div",X,[Y,t("div",Z,s(e.athlete.team.post_title),1)]),t("div",$,[tt,t("div",et,s(e.athlete.coach_name),1)]),e.athlete.social_link?(o(),c("div",at,[st,t("div",lt,[t("a",{href:e.athlete.social_link,target:"_blank"},s(e.athlete.social_link),9,ot)])])):_("",!0),t("div",_t,[it,t("div",ct,[t("span",{class:r(["athlete__status",`athlete__status--${e.athlete.status}`])},s(e.athlete.status||"-"),3)])]),t("div",nt,[rt,t("div",ht,[t("span",{class:r(["athlete__status",`athlete__status--${e.athlete.payment_status}`])},s(e.athlete.payment_status||"-"),3)])]),t("div",dt,[ut,t("div",vt,[e.athlete.card_file?(o(),c("a",{key:0,href:e.athlete.card_file.url,class:"athlete__status-link",target:"_blank"},"View File",8,pt)):_("",!0)])]),t("div",mt,[ft,t("div",wt,[e.athlete.certificate_file?(o(),c("a",{key:0,href:e.athlete.certificate_file.url,class:"athlete__status-link",target:"_blank"},"View File",8,yt)):_("",!0)])])])]),e.athlete.status==="verified"?(o(),c("button",{key:0,class:"button button--lime athlete__cta",onClick:i[0]||(i[0]=(...g)=>d.downloadVerificationCard&&d.downloadVerificationCard(...g))},"Download verification card ")):_("",!0)])):_("",!0)])])],64)}const It=x(E,[["render",kt],["__scopeId","data-v-7cac08aa"]]);export{It as default};
