import{_ as oe,r as w,o as f,c as _,b as h,e as A,t as S,F,d as z,a as T,w as B,n as $,i as X,h as E,g as L,k as jt,l as ie,m as xn,q as Y,s as J,u as Z,v as Jt,x as js,y as kn,z as mt,A as zs,T as Rn,B as Cn,f as Ps,C as In,p as Kr,j as Yr}from"./main.c6ab2dd8.js";import{H as He}from"./_chunk.43d6d570.js";import{t as dt}from"./_chunk.baccd3c2.js";import{F as zt}from"./_chunk.95ba0f4f.js";import{L as Te}from"./_chunk.4ec6e6ce.js";import{M as xs}from"./_chunk.322796ac.js";import{a as $e}from"./_chunk.c51eb69f.js";import{E as ks}from"./_chunk.2d418ff2.js";import{g as Ln}from"./_chunk.23102255.js";import{f as Ks}from"./_chunk.c8b7f1d3.js";const Fn={name:"BoardNavigation",props:{entities:{type:Array,required:!0}}},Mn={class:"board-navigation"},Nn={class:"wrapper board-navigation__wrapper"},Dn={class:"board-navigation__user"},Gn={class:"board-navigation__user-role"},Vn={class:"board-navigation__list"},Un={class:"board-navigation__item"};function qn(t,e,s,r,n,o){const l=w("RouterLink");return f(),_("div",Mn,[h("div",Nn,[h("div",Dn,[A(S(this.$store.state.authentication.currentUser.display_name)+" ",1),h("span",Gn,S(this.$store.state.authentication.currentRole),1)]),h("ul",Vn,[(f(!0),_(F,null,z(s.entities,i=>(f(),_("li",Un,[T(l,{to:{name:"board-entity",params:{entity:i}},class:$("board-navigation__link")},{default:B(()=>[A(S(i),1)]),_:2},1032,["to"])]))),256))])])])}const Bn=oe(Fn,[["render",qn],["__scopeId","data-v-c5c16404"]]),Hn={name:"Teams",components:{MessageList:xs,Loader:Te,FormItemText:zt,Heading:He},watch:{form:{handler(){this.isFormValid=this.form.team!==""},deep:!0}},data(){return{action:"",entities:null,editTeamId:null,form:{team:"",sport:"",grade:"",gender:"",socialLink:""},isFormValid:!1,isLayoutVisible:!1,isLoading:!1,isSubmitting:!1,messages:[]}},methods:{closeLayout(){this.isLayoutVisible=!1,this.form.team="",this.form.sport="",this.form.grade="",this.form.gender="",this.form.socialLink=""},edit(t){this.action="Edit",this.isLayoutVisible=!0,this.form.team=t.title,this.form.sport=t.sport,this.form.grade=t.grade,this.form.gender=t.gender,this.form.socialLink=t.social_link,this.editTeamId=t.ID},async fetchData(){await dt.getTeams({token:this.$store.state.authentication.token,currentRole:this.$store.state.authentication.currentRole}).then(t=>{t.data.success?this.entities=t.data.data:this.entities=[]})},async formSubmit(){this.isSubmitting=!0,this.action==="Create"?await dt.createTeam({token:this.$store.state.authentication.token,form:this.form}).then(t=>{t.data.success&&this.onFormSubmitSuccess(t.data.data),this.isSubmitting=!1}):this.action==="Edit"&&await dt.editTeam({token:this.$store.state.authentication.token,teamId:this.editTeamId,form:this.form}).then(t=>{t.data.success&&this.onFormSubmitSuccess(t.data.data),this.isSubmitting=!1}).catch(t=>{this.isSubmitting=!1,console.log(t)})},onFormSubmitSuccess(t){this.entities=t,this.form.team="",this.form.sport="",this.form.grade="",this.form.gender="",this.form.socialLink="",this.isLayoutVisible=!1,this.isFormValid=!1},async remove(t){this.isLoading=!0,await dt.removeTeam({token:this.$store.state.authentication.token,teamId:t}).then(e=>{e.data.success?this.entities=this.entities.filter(s=>s.ID!==t):this.messages.push(e.data.data),this.isLoading=!1})},viewTeam(t){this.$router.push({name:"team",params:{slug:t.slug}})}},mounted(){this.fetchData()}},Wn={class:"entities"},jn=h("svg",{viewBox:"0 0 50 50"},[h("path",{d:"M 7.71875 6.28125 L 6.28125 7.71875 L 23.5625 25 L 6.28125 42.28125 L 7.71875 43.71875 L 25 26.4375 L 42.28125 43.71875 L 43.71875 42.28125 L 26.4375 25 L 43.71875 7.71875 L 42.28125 6.28125 L 25 23.5625 Z"})],-1),zn=[jn],Kn={class:"entities__layout-inner"},Yn={class:"form__actions"},Jn=["disabled"],Qn={key:0,class:"form__actions-note"},Xn=h("sup",null,"(*)",-1),Zn={class:"wrapper entities__wrapper"},eo={class:"entities__actions"},to={key:1,class:"entities__list-holder"},so={class:"entities__list"},ro=jt('<li class="entities__item entities__item--team"><span class="entities__cell">#</span><span class="entities__cell">Team</span><span class="entities__cell">Sport</span><span class="entities__cell">Grade</span><span class="entities__cell">Gender</span><span class="entities__cell">Athletes</span><span class="entities__cell">Actions</span></li>',1),no=["onClick"],oo={class:"entities__cell"},io={class:"entities__cell"},ao={class:"entities__cell"},lo={class:"entities__cell"},co={class:"entities__cell"},uo={class:"entities__cell"},ho={class:"entities__cell entities__cell--actions"},po=["onClick"],mo=["onClick"],fo={key:2};function yo(t,e,s,r,n,o){const l=w("Loader"),i=w("Heading"),u=w("FormItemText"),c=w("MessageList");return f(),_(F,null,[T(l,{class:$({active:n.entities===null||n.isLoading})},null,8,["class"]),T(i,{level:1},{default:B(()=>[A("Teams")]),_:1}),h("div",Wn,[h("div",{class:$(["entities__layout",{active:n.isLayoutVisible}])},[T(l,{class:$({active:n.isSubmitting})},null,8,["class"]),h("button",{class:"entities__close-button",onClick:e[0]||(e[0]=(...d)=>o.closeLayout&&o.closeLayout(...d))},zn),h("div",Kn,[T(i,{level:2},{default:B(()=>[A(S(n.action)+" Team",1)]),_:1}),h("form",{onSubmit:e[6]||(e[6]=X((...d)=>o.formSubmit&&o.formSubmit(...d),["prevent"]))},[T(u,{name:"team-name",label:"Team","input-type":"text","is-required":!0,modelValue:n.form.team,"onUpdate:modelValue":e[1]||(e[1]=d=>n.form.team=d)},null,8,["modelValue"]),T(u,{name:"sport",label:"Sport","input-type":"text","is-required":!1,modelValue:n.form.sport,"onUpdate:modelValue":e[2]||(e[2]=d=>n.form.sport=d)},null,8,["modelValue"]),T(u,{name:"grade",label:"Grade","input-type":"text","is-required":!1,modelValue:n.form.grade,"onUpdate:modelValue":e[3]||(e[3]=d=>n.form.grade=d)},null,8,["modelValue"]),T(u,{name:"gender",label:"Gender","input-type":"text","is-required":!1,modelValue:n.form.gender,"onUpdate:modelValue":e[4]||(e[4]=d=>n.form.gender=d)},null,8,["modelValue"]),T(u,{name:"social-link",label:"Social link","input-type":"text","is-required":!1,modelValue:n.form.socialLink,"onUpdate:modelValue":e[5]||(e[5]=d=>n.form.socialLink=d)},null,8,["modelValue"]),h("div",Yn,[h("button",{type:"submit",class:"button button--lime",disabled:!n.isFormValid},"Submit",8,Jn),n.isFormValid?E("",!0):(f(),_("span",Qn,[A("Please fill in all required "),Xn,A(" fields")]))])],32)])],2),h("div",Zn,[n.messages.length?(f(),L(c,{key:0,messages:n.messages,type:"error"},null,8,["messages"])):E("",!0),h("div",eo,[h("button",{type:"button",class:"button button--lime",onClick:e[7]||(e[7]=d=>{n.isLayoutVisible=!0,n.action="Create"})}," Create team ")]),n.entities!==null&&n.entities.length>0?(f(),_("div",to,[h("ul",so,[ro,(f(!0),_(F,null,z(n.entities,(d,m)=>(f(),_("li",{key:d.ID,onClick:y=>o.viewTeam(d),class:"entities__item entities__item--team"},[h("span",oo,S(m+1)+".",1),h("span",io,S(d.title),1),h("span",ao,S(d.sport),1),h("span",lo,S(d.grade),1),h("span",co,S(d.gender),1),h("span",uo,S(d.athletes_count),1),h("span",ho,[h("button",{type:"button",class:"entities__action",onClick:X(y=>o.edit(d),["stop"])},"Edit",8,po),h("button",{type:"button",class:"entities__action",onClick:X(y=>o.remove(d.ID),["stop"])},"Remove",8,mo)])],8,no))),128))])])):n.entities!==null&&n.entities.length===0?(f(),_("p",fo,"You haven't created any teams yet")):E("",!0)])])],64)}const _o=oe(Hn,[["render",yo]]),Kt=`${document.location.protocol}//${document.location.host}/wp-json/pki/v1`,vo=t=>ie.post(`${Kt}/parents/create-parent`,t),go=t=>ie.post(`${Kt}/parents/edit-parent`,t),Po=t=>ie.post(`${Kt}/parents/get-parents`,t),bo=t=>ie.post(`${Kt}/parents/remove-parent`,t),pt={createParent:vo,editParent:go,getParents:Po,removeParent:bo},We=`${document.location.protocol}//${document.location.host}/wp-json/pki/v1`,To=t=>ie.post(`${We}/payments/cancel-payment`,t),So=t=>ie.post(`${We}/payments/check-payment`,t),Eo=()=>ie.get(`${We}/payments/get-cost`),wo=t=>ie.post(`${We}/payments/get-payment-token`,t),Oo=t=>ie.post(`${We}/payments/get-payments`,t),$o=t=>ie.post(`${We}/payments/use-coupon`,t),De={cancelPayment:To,checkPayment:So,getCost:Eo,getPaymentToken:wo,getPayments:Oo,useCoupon:$o};var Ao=Object.defineProperty,xo=Object.defineProperties,ko=Object.getOwnPropertyDescriptors,Ys=Object.getOwnPropertySymbols,Ro=Object.prototype.hasOwnProperty,Co=Object.prototype.propertyIsEnumerable,Js=(t,e,s)=>e in t?Ao(t,e,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[e]=s,Ae=(t,e)=>{for(var s in e||(e={}))Ro.call(e,s)&&Js(t,s,e[s]);if(Ys)for(var s of Ys(e))Co.call(e,s)&&Js(t,s,e[s]);return t},Qs=(t,e)=>xo(t,ko(e));const Io={props:{autoscroll:{type:Boolean,default:!0}},watch:{typeAheadPointer(){this.autoscroll&&this.maybeAdjustScroll()},open(t){this.autoscroll&&t&&this.$nextTick(()=>this.maybeAdjustScroll())}},methods:{maybeAdjustScroll(){var t;const e=((t=this.$refs.dropdownMenu)==null?void 0:t.children[this.typeAheadPointer])||!1;if(e){const s=this.getDropdownViewport(),{top:r,bottom:n,height:o}=e.getBoundingClientRect();if(r<s.top)return this.$refs.dropdownMenu.scrollTop=e.offsetTop;if(n>s.bottom)return this.$refs.dropdownMenu.scrollTop=e.offsetTop-(s.height-o)}},getDropdownViewport(){return this.$refs.dropdownMenu?this.$refs.dropdownMenu.getBoundingClientRect():{height:0,top:0,bottom:0}}}},Lo={data(){return{typeAheadPointer:-1}},watch:{filteredOptions(){for(let t=0;t<this.filteredOptions.length;t++)if(this.selectable(this.filteredOptions[t])){this.typeAheadPointer=t;break}},open(t){t&&this.typeAheadToLastSelected()},selectedValue(){this.open&&this.typeAheadToLastSelected()}},methods:{typeAheadUp(){for(let t=this.typeAheadPointer-1;t>=0;t--)if(this.selectable(this.filteredOptions[t])){this.typeAheadPointer=t;break}},typeAheadDown(){for(let t=this.typeAheadPointer+1;t<this.filteredOptions.length;t++)if(this.selectable(this.filteredOptions[t])){this.typeAheadPointer=t;break}},typeAheadSelect(){const t=this.filteredOptions[this.typeAheadPointer];t&&this.selectable(t)&&this.select(t)},typeAheadToLastSelected(){this.typeAheadPointer=this.selectedValue.length!==0?this.filteredOptions.indexOf(this.selectedValue[this.selectedValue.length-1]):-1}}},Fo={props:{loading:{type:Boolean,default:!1}},data(){return{mutableLoading:!1}},watch:{search(){this.$emit("search",this.search,this.toggleLoading)},loading(t){this.mutableLoading=t}},methods:{toggleLoading(t=null){return t==null?this.mutableLoading=!this.mutableLoading:this.mutableLoading=t}}},Rs=(t,e)=>{const s=t.__vccOpts||t;for(const[r,n]of e)s[r]=n;return s},Mo={},No={xmlns:"http://www.w3.org/2000/svg",width:"10",height:"10"},Do=h("path",{d:"M6.895455 5l2.842897-2.842898c.348864-.348863.348864-.914488 0-1.263636L9.106534.261648c-.348864-.348864-.914489-.348864-1.263636 0L5 3.104545 2.157102.261648c-.348863-.348864-.914488-.348864-1.263636 0L.261648.893466c-.348864.348864-.348864.914489 0 1.263636L3.104545 5 .261648 7.842898c-.348864.348863-.348864.914488 0 1.263636l.631818.631818c.348864.348864.914773.348864 1.263636 0L5 6.895455l2.842898 2.842897c.348863.348864.914772.348864 1.263636 0l.631818-.631818c.348864-.348864.348864-.914489 0-1.263636L6.895455 5z"},null,-1),Go=[Do];function Vo(t,e){return f(),_("svg",No,Go)}const Uo=Rs(Mo,[["render",Vo]]),qo={},Bo={xmlns:"http://www.w3.org/2000/svg",width:"14",height:"10"},Ho=h("path",{d:"M9.211364 7.59931l4.48338-4.867229c.407008-.441854.407008-1.158247 0-1.60046l-.73712-.80023c-.407008-.441854-1.066904-.441854-1.474243 0L7 5.198617 2.51662.33139c-.407008-.441853-1.066904-.441853-1.474243 0l-.737121.80023c-.407008.441854-.407008 1.158248 0 1.600461l4.48338 4.867228L7 10l2.211364-2.40069z"},null,-1),Wo=[Ho];function jo(t,e){return f(),_("svg",Bo,Wo)}const zo=Rs(qo,[["render",jo]]),Xs={Deselect:Uo,OpenIndicator:zo},Ko={mounted(t,{instance:e}){if(e.appendToBody){const{height:s,top:r,left:n,width:o}=e.$refs.toggle.getBoundingClientRect();let l=window.scrollX||window.pageXOffset,i=window.scrollY||window.pageYOffset;t.unbindPosition=e.calculatePosition(t,e,{width:o+"px",left:l+n+"px",top:i+r+s+"px"}),document.body.appendChild(t)}},unmounted(t,{instance:e}){e.appendToBody&&(t.unbindPosition&&typeof t.unbindPosition=="function"&&t.unbindPosition(),t.parentNode&&t.parentNode.removeChild(t))}};function Yo(t){const e={};return Object.keys(t).sort().forEach(s=>{e[s]=t[s]}),JSON.stringify(e)}let Jo=0;function Qo(){return++Jo}const Xo={components:Ae({},Xs),directives:{appendToBody:Ko},mixins:[Io,Lo,Fo],compatConfig:{MODE:3},emits:["open","close","update:modelValue","search","search:compositionstart","search:compositionend","search:keydown","search:blur","search:focus","search:input","option:created","option:selecting","option:selected","option:deselecting","option:deselected"],props:{modelValue:{},components:{type:Object,default:()=>({})},options:{type:Array,default(){return[]}},disabled:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},deselectFromDropdown:{type:Boolean,default:!1},searchable:{type:Boolean,default:!0},multiple:{type:Boolean,default:!1},placeholder:{type:String,default:""},transition:{type:String,default:"vs__fade"},clearSearchOnSelect:{type:Boolean,default:!0},closeOnSelect:{type:Boolean,default:!0},label:{type:String,default:"label"},autocomplete:{type:String,default:"off"},reduce:{type:Function,default:t=>t},selectable:{type:Function,default:t=>!0},getOptionLabel:{type:Function,default(t){return typeof t=="object"?t.hasOwnProperty(this.label)?t[this.label]:console.warn(`[vue-select warn]: Label key "option.${this.label}" does not exist in options object ${JSON.stringify(t)}.
https://vue-select.org/api/props.html#getoptionlabel`):t}},getOptionKey:{type:Function,default(t){if(typeof t!="object")return t;try{return t.hasOwnProperty("id")?t.id:Yo(t)}catch(e){return console.warn(`[vue-select warn]: Could not stringify this option to generate unique key. Please provide'getOptionKey' prop to return a unique key for each option.
https://vue-select.org/api/props.html#getoptionkey`,t,e)}}},onTab:{type:Function,default:function(){this.selectOnTab&&!this.isComposing&&this.typeAheadSelect()}},taggable:{type:Boolean,default:!1},tabindex:{type:Number,default:null},pushTags:{type:Boolean,default:!1},filterable:{type:Boolean,default:!0},filterBy:{type:Function,default(t,e,s){return(e||"").toLocaleLowerCase().indexOf(s.toLocaleLowerCase())>-1}},filter:{type:Function,default(t,e){return t.filter(s=>{let r=this.getOptionLabel(s);return typeof r=="number"&&(r=r.toString()),this.filterBy(s,r,e)})}},createOption:{type:Function,default(t){return typeof this.optionList[0]=="object"?{[this.label]:t}:t}},resetOnOptionsChange:{default:!1,validator:t=>["function","boolean"].includes(typeof t)},clearSearchOnBlur:{type:Function,default:function({clearSearchOnSelect:t,multiple:e}){return t&&!e}},noDrop:{type:Boolean,default:!1},inputId:{type:String},dir:{type:String,default:"auto"},selectOnTab:{type:Boolean,default:!1},selectOnKeyCodes:{type:Array,default:()=>[13]},searchInputQuerySelector:{type:String,default:"[type=search]"},mapKeydown:{type:Function,default:(t,e)=>t},appendToBody:{type:Boolean,default:!1},calculatePosition:{type:Function,default(t,e,{width:s,top:r,left:n}){t.style.top=r,t.style.left=n,t.style.width=s}},dropdownShouldOpen:{type:Function,default({noDrop:t,open:e,mutableLoading:s}){return t?!1:e&&!s}},uid:{type:[String,Number],default:()=>Qo()}},data(){return{search:"",open:!1,isComposing:!1,pushedTags:[],_value:[],deselectButtons:[]}},computed:{isReducingValues(){return this.$props.reduce!==this.$options.props.reduce.default},isTrackingValues(){return typeof this.modelValue>"u"||this.isReducingValues},selectedValue(){let t=this.modelValue;return this.isTrackingValues&&(t=this.$data._value),t!=null&&t!==""?[].concat(t):[]},optionList(){return this.options.concat(this.pushTags?this.pushedTags:[])},searchEl(){return this.$slots.search?this.$refs.selectedOptions.querySelector(this.searchInputQuerySelector):this.$refs.search},scope(){const t={search:this.search,loading:this.loading,searching:this.searching,filteredOptions:this.filteredOptions};return{search:{attributes:Ae({disabled:this.disabled,placeholder:this.searchPlaceholder,tabindex:this.tabindex,readonly:!this.searchable,id:this.inputId,"aria-autocomplete":"list","aria-labelledby":`vs${this.uid}__combobox`,"aria-controls":`vs${this.uid}__listbox`,ref:"search",type:"search",autocomplete:this.autocomplete,value:this.search},this.dropdownOpen&&this.filteredOptions[this.typeAheadPointer]?{"aria-activedescendant":`vs${this.uid}__option-${this.typeAheadPointer}`}:{}),events:{compositionstart:()=>this.isComposing=!0,compositionend:()=>this.isComposing=!1,keydown:this.onSearchKeyDown,blur:this.onSearchBlur,focus:this.onSearchFocus,input:e=>this.search=e.target.value}},spinner:{loading:this.mutableLoading},noOptions:{search:this.search,loading:this.mutableLoading,searching:this.searching},openIndicator:{attributes:{ref:"openIndicator",role:"presentation",class:"vs__open-indicator"}},listHeader:t,listFooter:t,header:Qs(Ae({},t),{deselect:this.deselect}),footer:Qs(Ae({},t),{deselect:this.deselect})}},childComponents(){return Ae(Ae({},Xs),this.components)},stateClasses(){return{"vs--open":this.dropdownOpen,"vs--single":!this.multiple,"vs--multiple":this.multiple,"vs--searching":this.searching&&!this.noDrop,"vs--searchable":this.searchable&&!this.noDrop,"vs--unsearchable":!this.searchable,"vs--loading":this.mutableLoading,"vs--disabled":this.disabled}},searching(){return!!this.search},dropdownOpen(){return this.dropdownShouldOpen(this)},searchPlaceholder(){return this.isValueEmpty&&this.placeholder?this.placeholder:void 0},filteredOptions(){const t=[].concat(this.optionList);if(!this.filterable&&!this.taggable)return t;const e=this.search.length?this.filter(t,this.search,this):t;if(this.taggable&&this.search.length){const s=this.createOption(this.search);this.optionExists(s)||e.unshift(s)}return e},isValueEmpty(){return this.selectedValue.length===0},showClearButton(){return!this.multiple&&this.clearable&&!this.open&&!this.isValueEmpty}},watch:{options(t,e){const s=()=>typeof this.resetOnOptionsChange=="function"?this.resetOnOptionsChange(t,e,this.selectedValue):this.resetOnOptionsChange;!this.taggable&&s()&&this.clearSelection(),this.modelValue&&this.isTrackingValues&&this.setInternalValueFromOptions(this.modelValue)},modelValue:{immediate:!0,handler(t){this.isTrackingValues&&this.setInternalValueFromOptions(t)}},multiple(){this.clearSelection()},open(t){this.$emit(t?"open":"close")}},created(){this.mutableLoading=this.loading},methods:{setInternalValueFromOptions(t){Array.isArray(t)?this.$data._value=t.map(e=>this.findOptionFromReducedValue(e)):this.$data._value=this.findOptionFromReducedValue(t)},select(t){this.$emit("option:selecting",t),this.isOptionSelected(t)?this.deselectFromDropdown&&(this.clearable||this.multiple&&this.selectedValue.length>1)&&this.deselect(t):(this.taggable&&!this.optionExists(t)&&(this.$emit("option:created",t),this.pushTag(t)),this.multiple&&(t=this.selectedValue.concat(t)),this.updateValue(t),this.$emit("option:selected",t)),this.onAfterSelect(t)},deselect(t){this.$emit("option:deselecting",t),this.updateValue(this.selectedValue.filter(e=>!this.optionComparator(e,t))),this.$emit("option:deselected",t)},clearSelection(){this.updateValue(this.multiple?[]:null)},onAfterSelect(t){this.closeOnSelect&&(this.open=!this.open,this.searchEl.blur()),this.clearSearchOnSelect&&(this.search="")},updateValue(t){typeof this.modelValue>"u"&&(this.$data._value=t),t!==null&&(Array.isArray(t)?t=t.map(e=>this.reduce(e)):t=this.reduce(t)),this.$emit("update:modelValue",t)},toggleDropdown(t){const e=t.target!==this.searchEl;e&&t.preventDefault();const s=[...this.deselectButtons||[],this.$refs.clearButton];if(this.searchEl===void 0||s.filter(Boolean).some(r=>r.contains(t.target)||r===t.target)){t.preventDefault();return}this.open&&e?this.searchEl.blur():this.disabled||(this.open=!0,this.searchEl.focus())},isOptionSelected(t){return this.selectedValue.some(e=>this.optionComparator(e,t))},isOptionDeselectable(t){return this.isOptionSelected(t)&&this.deselectFromDropdown},optionComparator(t,e){return this.getOptionKey(t)===this.getOptionKey(e)},findOptionFromReducedValue(t){const e=r=>JSON.stringify(this.reduce(r))===JSON.stringify(t),s=[...this.options,...this.pushedTags].filter(e);return s.length===1?s[0]:s.find(r=>this.optionComparator(r,this.$data._value))||t},closeSearchOptions(){this.open=!1,this.$emit("search:blur")},maybeDeleteValue(){if(!this.searchEl.value.length&&this.selectedValue&&this.selectedValue.length&&this.clearable){let t=null;this.multiple&&(t=[...this.selectedValue.slice(0,this.selectedValue.length-1)]),this.updateValue(t)}},optionExists(t){return this.optionList.some(e=>this.optionComparator(e,t))},normalizeOptionForSlot(t){return typeof t=="object"?t:{[this.label]:t}},pushTag(t){this.pushedTags.push(t)},onEscape(){this.search.length?this.search="":this.searchEl.blur()},onSearchBlur(){if(this.mousedown&&!this.searching)this.mousedown=!1;else{const{clearSearchOnSelect:t,multiple:e}=this;this.clearSearchOnBlur({clearSearchOnSelect:t,multiple:e})&&(this.search=""),this.closeSearchOptions();return}if(this.search.length===0&&this.options.length===0){this.closeSearchOptions();return}},onSearchFocus(){this.open=!0,this.$emit("search:focus")},onMousedown(){this.mousedown=!0},onMouseUp(){this.mousedown=!1},onSearchKeyDown(t){const e=n=>(n.preventDefault(),!this.isComposing&&this.typeAheadSelect()),s={8:n=>this.maybeDeleteValue(),9:n=>this.onTab(),27:n=>this.onEscape(),38:n=>(n.preventDefault(),this.typeAheadUp()),40:n=>(n.preventDefault(),this.typeAheadDown())};this.selectOnKeyCodes.forEach(n=>s[n]=e);const r=this.mapKeydown(s,this);if(typeof r[t.keyCode]=="function")return r[t.keyCode](t)}}},Zo=["dir"],ei=["id","aria-expanded","aria-owns"],ti={ref:"selectedOptions",class:"vs__selected-options"},si=["disabled","title","aria-label","onClick"],ri={ref:"actions",class:"vs__actions"},ni=["disabled"],oi={class:"vs__spinner"},ii=["id"],ai=["id","aria-selected","onMouseover","onClick"],li={key:0,class:"vs__no-options"},ci=A(" Sorry, no matching options. "),ui=["id"];function hi(t,e,s,r,n,o){const l=xn("append-to-body");return f(),_("div",{dir:s.dir,class:$(["v-select",o.stateClasses])},[Y(t.$slots,"header",J(Z(o.scope.header))),h("div",{id:`vs${s.uid}__combobox`,ref:"toggle",class:"vs__dropdown-toggle",role:"combobox","aria-expanded":o.dropdownOpen.toString(),"aria-owns":`vs${s.uid}__listbox`,"aria-label":"Search for option",onMousedown:e[1]||(e[1]=i=>o.toggleDropdown(i))},[h("div",ti,[(f(!0),_(F,null,z(o.selectedValue,(i,u)=>Y(t.$slots,"selected-option-container",{option:o.normalizeOptionForSlot(i),deselect:o.deselect,multiple:s.multiple,disabled:s.disabled},()=>[(f(),_("span",{key:s.getOptionKey(i),class:"vs__selected"},[Y(t.$slots,"selected-option",J(Z(o.normalizeOptionForSlot(i))),()=>[A(S(s.getOptionLabel(i)),1)]),s.multiple?(f(),_("button",{key:0,ref_for:!0,ref:c=>n.deselectButtons[u]=c,disabled:s.disabled,type:"button",class:"vs__deselect",title:`Deselect ${s.getOptionLabel(i)}`,"aria-label":`Deselect ${s.getOptionLabel(i)}`,onClick:c=>o.deselect(i)},[(f(),L(Jt(o.childComponents.Deselect)))],8,si)):E("",!0)]))])),256)),Y(t.$slots,"search",J(Z(o.scope.search)),()=>[h("input",js({class:"vs__search"},o.scope.search.attributes,kn(o.scope.search.events)),null,16)])],512),h("div",ri,[mt(h("button",{ref:"clearButton",disabled:s.disabled,type:"button",class:"vs__clear",title:"Clear Selected","aria-label":"Clear Selected",onClick:e[0]||(e[0]=(...i)=>o.clearSelection&&o.clearSelection(...i))},[(f(),L(Jt(o.childComponents.Deselect)))],8,ni),[[zs,o.showClearButton]]),Y(t.$slots,"open-indicator",J(Z(o.scope.openIndicator)),()=>[s.noDrop?E("",!0):(f(),L(Jt(o.childComponents.OpenIndicator),J(js({key:0},o.scope.openIndicator.attributes)),null,16))]),Y(t.$slots,"spinner",J(Z(o.scope.spinner)),()=>[mt(h("div",oi,"Loading...",512),[[zs,t.mutableLoading]])])],512)],40,ei),T(Rn,{name:s.transition},{default:B(()=>[o.dropdownOpen?mt((f(),_("ul",{id:`vs${s.uid}__listbox`,ref:"dropdownMenu",key:`vs${s.uid}__listbox`,class:"vs__dropdown-menu",role:"listbox",tabindex:"-1",onMousedown:e[2]||(e[2]=X((...i)=>o.onMousedown&&o.onMousedown(...i),["prevent"])),onMouseup:e[3]||(e[3]=(...i)=>o.onMouseUp&&o.onMouseUp(...i))},[Y(t.$slots,"list-header",J(Z(o.scope.listHeader))),(f(!0),_(F,null,z(o.filteredOptions,(i,u)=>(f(),_("li",{id:`vs${s.uid}__option-${u}`,key:s.getOptionKey(i),role:"option",class:$(["vs__dropdown-option",{"vs__dropdown-option--deselect":o.isOptionDeselectable(i)&&u===t.typeAheadPointer,"vs__dropdown-option--selected":o.isOptionSelected(i),"vs__dropdown-option--highlight":u===t.typeAheadPointer,"vs__dropdown-option--disabled":!s.selectable(i)}]),"aria-selected":u===t.typeAheadPointer?!0:null,onMouseover:c=>s.selectable(i)?t.typeAheadPointer=u:null,onClick:X(c=>s.selectable(i)?o.select(i):null,["prevent","stop"])},[Y(t.$slots,"option",J(Z(o.normalizeOptionForSlot(i))),()=>[A(S(s.getOptionLabel(i)),1)])],42,ai))),128)),o.filteredOptions.length===0?(f(),_("li",li,[Y(t.$slots,"no-options",J(Z(o.scope.noOptions)),()=>[ci])])):E("",!0),Y(t.$slots,"list-footer",J(Z(o.scope.listFooter)))],40,ii)),[[l]]):(f(),_("ul",{key:1,id:`vs${s.uid}__listbox`,role:"listbox",style:{display:"none",visibility:"hidden"}},null,8,ui))]),_:3},8,["name"]),Y(t.$slots,"footer",J(Z(o.scope.footer)))],10,Zo)}const di=Rs(Xo,[["render",hi]]);const pi={name:"FormItemFile",props:{fileName:{type:String},fileTitle:{type:String,required:!0},inputId:{type:String,required:!0}},methods:{onFileChange(t){const e=t.target.files[0],s=new FileReader;e&&(s.readAsDataURL(e),s.onload=()=>{e.previewBase64=s.result,this.$emit("file-updated",e)},s.onerror=r=>{console.log("Error ",r)})}}},mi=["id"],fi=["for"];function yi(t,e,s,r,n,o){return f(),_("div",null,[h("input",{id:s.inputId,class:"hide-file-input",type:"file",accept:"image/jpeg, image/png, application/pdf",onChange:e[0]||(e[0]=(...l)=>o.onFileChange&&o.onFileChange(...l))},null,40,mi),h("label",{class:"file-label",for:s.inputId},S(s.fileName||`Upload a ${s.fileTitle}`),9,fi)])}const _i=oe(pi,[["render",yi],["__scopeId","data-v-8d89c8e5"]]);class ne{getClientName(){throw new Error("getClientName not implemented.")}makeRequest(e,s,r,n,o,l,i,u){throw new Error("makeRequest not implemented.")}static makeTimeoutError(){const e=new TypeError(ne.TIMEOUT_ERROR_CODE);return e.code=ne.TIMEOUT_ERROR_CODE,e}}ne.CONNECTION_CLOSED_ERROR_CODES=["ECONNRESET","EPIPE"];ne.TIMEOUT_ERROR_CODE="ETIMEDOUT";class Jr{constructor(e,s){this._statusCode=e,this._headers=s}getStatusCode(){return this._statusCode}getHeaders(){return this._headers}getRawResponse(){throw new Error("getRawResponse not implemented.")}toStream(e){throw new Error("toStream not implemented.")}toJSON(){throw new Error("toJSON not implemented.")}}class vi extends ne{constructor(e){super(),this._fetchFn=e}getClientName(){return"fetch"}makeRequest(e,s,r,n,o,l,i,u){const c=i==="http",d=new URL(r,`${c?"http":"https"}://${e}`);d.port=s;const m=n=="POST"||n=="PUT"||n=="PATCH",y=l||(m?"":void 0),v=(this._fetchFn||fetch)(d.toString(),{method:n,headers:o,body:y});let b;const P=new Promise((g,k)=>{b=setTimeout(()=>{b=null,k(ne.makeTimeoutError())},u)});return Promise.race([v,P]).then(g=>new Cs(g)).finally(()=>{b&&clearTimeout(b)})}}class Cs extends Jr{constructor(e){super(e.status,Cs._transformHeadersToObject(e.headers)),this._res=e}getRawResponse(){return this._res}toStream(e){return e(),this._res.body}toJSON(){return this._res.json()}static _transformHeadersToObject(e){const s={};for(const r of e){if(!Array.isArray(r)||r.length!=2)throw new Error("Response objects produced by the fetch function given to FetchHttpClient do not have an iterable headers map. Response#headers should be an iterable object.");s[r[0]]=r[1]}return s}}class Qr{computeHMACSignature(e,s){throw new Error("computeHMACSignature not implemented.")}computeHMACSignatureAsync(e,s){throw new Error("computeHMACSignatureAsync not implemented.")}}class Xr extends Error{}class gi extends Qr{constructor(e){super(),this.subtleCrypto=e||crypto.subtle}computeHMACSignature(e,s){throw new Xr("SubtleCryptoProvider cannot be used in a synchronous context.")}async computeHMACSignatureAsync(e,s){const r=new TextEncoder,n=await this.subtleCrypto.importKey("raw",r.encode(s),{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),o=await this.subtleCrypto.sign("hmac",n,r.encode(e)),l=new Uint8Array(o),i=new Array(l.length);for(let u=0;u<l.length;u++)i[u]=bs[l[u]];return i.join("")}}const bs=new Array(256);for(let t=0;t<bs.length;t++)bs[t]=t.toString(16).padStart(2,"0");class Pi{constructor(){this._fetchFn=null,this._agent=null}getUname(){throw new Error("getUname not implemented.")}uuid4(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const s=Math.random()*16|0;return(e==="x"?s:s&3|8).toString(16)})}secureCompare(e,s){if(e.length!==s.length)return!1;const r=e.length;let n=0;for(let o=0;o<r;++o)n|=e.charCodeAt(o)^s.charCodeAt(o);return n===0}createEmitter(){throw new Error("createEmitter not implemented.")}tryBufferData(e){throw new Error("tryBufferData not implemented.")}createNodeHttpClient(e){throw new Error("createNodeHttpClient not implemented.")}createFetchHttpClient(e){return new vi(e)}createDefaultHttpClient(){throw new Error("createDefaultHttpClient not implemented.")}createNodeCryptoProvider(){throw new Error("createNodeCryptoProvider not implemented.")}createSubtleCryptoProvider(e){return new gi(e)}createDefaultCryptoProvider(){throw new Error("createDefaultCryptoProvider not implemented.")}}class bi extends Event{constructor(e,s){super(e),this.data=s}}class Ti{constructor(){this.eventTarget=new EventTarget,this.listenerMapping=new Map}on(e,s){const r=n=>{s(n.data)};return this.listenerMapping.set(s,r),this.eventTarget.addEventListener(e,r)}removeListener(e,s){const r=this.listenerMapping.get(s);return this.listenerMapping.delete(s),this.eventTarget.removeEventListener(e,r)}once(e,s){const r=n=>{s(n.data)};return this.listenerMapping.set(s,r),this.eventTarget.addEventListener(e,r,{once:!0})}emit(e,s){return this.eventTarget.dispatchEvent(new bi(e,s))}}class Si extends Pi{getUname(){return Promise.resolve(null)}createEmitter(){return new Ti}tryBufferData(e){if(e.file.data instanceof ReadableStream)throw new Error("Uploading a file as a stream is not supported in non-Node environments. Please open or upvote an issue at github.com/stripe/stripe-node if you use this, detailing your use-case.");return Promise.resolve(e)}createNodeHttpClient(){throw new Error("Stripe: `createNodeHttpClient()` is not available in non-Node environments. Please use `createFetchHttpClient()` instead.")}createDefaultHttpClient(){return super.createFetchHttpClient()}createNodeCryptoProvider(){throw new Error("Stripe: `createNodeCryptoProvider()` is not available in non-Node environments. Please use `createSubtleCryptoProvider()` instead.")}createDefaultCryptoProvider(){return this.createSubtleCryptoProvider()}}const Zr=t=>{switch(t.type){case"card_error":return new en(t);case"invalid_request_error":return new tn(t);case"api_error":return new Is(t);case"authentication_error":return new Ls(t);case"rate_limit_error":return new Fs(t);case"idempotency_error":return new nn(t);case"invalid_grant":return new on(t);default:return new an(t)}};class H extends Error{constructor(e={}){super(e.message),this.type=this.constructor.name,this.raw=e,this.rawType=e.type,this.code=e.code,this.doc_url=e.doc_url,this.param=e.param,this.detail=e.detail,this.headers=e.headers,this.requestId=e.requestId,this.statusCode=e.statusCode,this.message=e.message,this.charge=e.charge,this.decline_code=e.decline_code,this.payment_intent=e.payment_intent,this.payment_method=e.payment_method,this.payment_method_type=e.payment_method_type,this.setup_intent=e.setup_intent,this.source=e.source}}H.generate=Zr;class en extends H{}class tn extends H{}class Is extends H{}class Ls extends H{}class sn extends H{}class Fs extends H{}class rn extends H{}class pe extends H{constructor(e,s,r={}){super(r),this.header=e,this.payload=s}}class nn extends H{}class on extends H{}class an extends H{}const Zs=Object.freeze(Object.defineProperty({__proto__:null,StripeAPIError:Is,StripeAuthenticationError:Ls,StripeCardError:en,StripeConnectionError:rn,StripeError:H,StripeIdempotencyError:nn,StripeInvalidGrantError:on,StripeInvalidRequestError:tn,StripePermissionError:sn,StripeRateLimitError:Fs,StripeSignatureVerificationError:pe,StripeUnknownError:an,generate:Zr},Symbol.toStringTag,{value:"Module"})),Ei="2022-11-15";function wi(t,e){for(const s in e){const r=s[0].toLowerCase()+s.substring(1),n=new e[s](t);this[r]=n}}function V(t,e){return function(s){return new wi(s,e)}}var Oi=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},s=Symbol("test"),r=Object(s);if(typeof s=="string"||Object.prototype.toString.call(s)!=="[object Symbol]"||Object.prototype.toString.call(r)!=="[object Symbol]")return!1;var n=42;e[s]=n;for(s in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var o=Object.getOwnPropertySymbols(e);if(o.length!==1||o[0]!==s||!Object.prototype.propertyIsEnumerable.call(e,s))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var l=Object.getOwnPropertyDescriptor(e,s);if(l.value!==n||l.enumerable!==!0)return!1}return!0},er=typeof Symbol<"u"&&Symbol,$i=Oi,Ai=function(){return typeof er!="function"||typeof Symbol!="function"||typeof er("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:$i()},tr={foo:{}},xi=Object,ki=function(){return{__proto__:tr}.foo===tr.foo&&!({__proto__:null}instanceof xi)},Ri="Function.prototype.bind called on incompatible ",Qt=Array.prototype.slice,Ci=Object.prototype.toString,Ii="[object Function]",Li=function(e){var s=this;if(typeof s!="function"||Ci.call(s)!==Ii)throw new TypeError(Ri+s);for(var r=Qt.call(arguments,1),n,o=function(){if(this instanceof n){var d=s.apply(this,r.concat(Qt.call(arguments)));return Object(d)===d?d:this}else return s.apply(e,r.concat(Qt.call(arguments)))},l=Math.max(0,s.length-r.length),i=[],u=0;u<l;u++)i.push("$"+u);if(n=Function("binder","return function ("+i.join(",")+"){ return binder.apply(this,arguments); }")(o),s.prototype){var c=function(){};c.prototype=s.prototype,n.prototype=new c,c.prototype=null}return n},Fi=Li,Ms=Function.prototype.bind||Fi,Mi=Ms,Ni=Mi.call(Function.call,Object.prototype.hasOwnProperty),O,Ue=SyntaxError,ln=Function,Ve=TypeError,Xt=function(t){try{return ln('"use strict"; return ('+t+").constructor;")()}catch{}},Pe=Object.getOwnPropertyDescriptor;if(Pe)try{Pe({},"")}catch{Pe=null}var Zt=function(){throw new Ve},Di=Pe?function(){try{return arguments.callee,Zt}catch{try{return Pe(arguments,"callee").get}catch{return Zt}}}():Zt,xe=Ai(),Gi=ki(),D=Object.getPrototypeOf||(Gi?function(t){return t.__proto__}:null),Ge={},Vi=typeof Uint8Array>"u"||!D?O:D(Uint8Array),be={"%AggregateError%":typeof AggregateError>"u"?O:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?O:ArrayBuffer,"%ArrayIteratorPrototype%":xe&&D?D([][Symbol.iterator]()):O,"%AsyncFromSyncIteratorPrototype%":O,"%AsyncFunction%":Ge,"%AsyncGenerator%":Ge,"%AsyncGeneratorFunction%":Ge,"%AsyncIteratorPrototype%":Ge,"%Atomics%":typeof Atomics>"u"?O:Atomics,"%BigInt%":typeof BigInt>"u"?O:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?O:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?O:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?O:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?O:Float32Array,"%Float64Array%":typeof Float64Array>"u"?O:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?O:FinalizationRegistry,"%Function%":ln,"%GeneratorFunction%":Ge,"%Int8Array%":typeof Int8Array>"u"?O:Int8Array,"%Int16Array%":typeof Int16Array>"u"?O:Int16Array,"%Int32Array%":typeof Int32Array>"u"?O:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":xe&&D?D(D([][Symbol.iterator]())):O,"%JSON%":typeof JSON=="object"?JSON:O,"%Map%":typeof Map>"u"?O:Map,"%MapIteratorPrototype%":typeof Map>"u"||!xe||!D?O:D(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?O:Promise,"%Proxy%":typeof Proxy>"u"?O:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?O:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?O:Set,"%SetIteratorPrototype%":typeof Set>"u"||!xe||!D?O:D(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?O:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":xe&&D?D(""[Symbol.iterator]()):O,"%Symbol%":xe?Symbol:O,"%SyntaxError%":Ue,"%ThrowTypeError%":Di,"%TypedArray%":Vi,"%TypeError%":Ve,"%Uint8Array%":typeof Uint8Array>"u"?O:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?O:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?O:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?O:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?O:WeakMap,"%WeakRef%":typeof WeakRef>"u"?O:WeakRef,"%WeakSet%":typeof WeakSet>"u"?O:WeakSet};if(D)try{null.error}catch(t){var Ui=D(D(t));be["%Error.prototype%"]=Ui}var qi=function t(e){var s;if(e==="%AsyncFunction%")s=Xt("async function () {}");else if(e==="%GeneratorFunction%")s=Xt("function* () {}");else if(e==="%AsyncGeneratorFunction%")s=Xt("async function* () {}");else if(e==="%AsyncGenerator%"){var r=t("%AsyncGeneratorFunction%");r&&(s=r.prototype)}else if(e==="%AsyncIteratorPrototype%"){var n=t("%AsyncGenerator%");n&&D&&(s=D(n.prototype))}return be[e]=s,s},sr={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},gt=Ms,Ut=Ni,Bi=gt.call(Function.call,Array.prototype.concat),Hi=gt.call(Function.apply,Array.prototype.splice),rr=gt.call(Function.call,String.prototype.replace),qt=gt.call(Function.call,String.prototype.slice),Wi=gt.call(Function.call,RegExp.prototype.exec),ji=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,zi=/\\(\\)?/g,Ki=function(e){var s=qt(e,0,1),r=qt(e,-1);if(s==="%"&&r!=="%")throw new Ue("invalid intrinsic syntax, expected closing `%`");if(r==="%"&&s!=="%")throw new Ue("invalid intrinsic syntax, expected opening `%`");var n=[];return rr(e,ji,function(o,l,i,u){n[n.length]=i?rr(u,zi,"$1"):l||o}),n},Yi=function(e,s){var r=e,n;if(Ut(sr,r)&&(n=sr[r],r="%"+n[0]+"%"),Ut(be,r)){var o=be[r];if(o===Ge&&(o=qi(r)),typeof o>"u"&&!s)throw new Ve("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:r,value:o}}throw new Ue("intrinsic "+e+" does not exist!")},Ns=function(e,s){if(typeof e!="string"||e.length===0)throw new Ve("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof s!="boolean")throw new Ve('"allowMissing" argument must be a boolean');if(Wi(/^%?[^%]*%?$/,e)===null)throw new Ue("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=Ki(e),n=r.length>0?r[0]:"",o=Yi("%"+n+"%",s),l=o.name,i=o.value,u=!1,c=o.alias;c&&(n=c[0],Hi(r,Bi([0,1],c)));for(var d=1,m=!0;d<r.length;d+=1){var y=r[d],p=qt(y,0,1),v=qt(y,-1);if((p==='"'||p==="'"||p==="`"||v==='"'||v==="'"||v==="`")&&p!==v)throw new Ue("property names with quotes must have matching quotes");if((y==="constructor"||!m)&&(u=!0),n+="."+y,l="%"+n+"%",Ut(be,l))i=be[l];else if(i!=null){if(!(y in i)){if(!s)throw new Ve("base intrinsic for "+e+" exists, but the property is not available.");return}if(Pe&&d+1>=r.length){var b=Pe(i,y);m=!!b,m&&"get"in b&&!("originalValue"in b.get)?i=b.get:i=i[y]}else m=Ut(i,y),i=i[y];m&&!u&&(be[l]=i)}}return i},cn={exports:{}};(function(t){var e=Ms,s=Ns,r=s("%Function.prototype.apply%"),n=s("%Function.prototype.call%"),o=s("%Reflect.apply%",!0)||e.call(n,r),l=s("%Object.getOwnPropertyDescriptor%",!0),i=s("%Object.defineProperty%",!0),u=s("%Math.max%");if(i)try{i({},"a",{value:1})}catch{i=null}t.exports=function(m){var y=o(e,n,arguments);if(l&&i){var p=l(y,"length");p.configurable&&i(y,"length",{value:1+u(0,m.length-(arguments.length-1))})}return y};var c=function(){return o(e,r,arguments)};i?i(t.exports,"apply",{value:c}):t.exports.apply=c})(cn);var Ji=cn.exports,un=Ns,hn=Ji,Qi=hn(un("String.prototype.indexOf")),Xi=function(e,s){var r=un(e,!!s);return typeof r=="function"&&Qi(e,".prototype.")>-1?hn(r):r};const Zi={},ea=Object.freeze(Object.defineProperty({__proto__:null,default:Zi},Symbol.toStringTag,{value:"Module"})),ta=Ln(ea);var Ds=typeof Map=="function"&&Map.prototype,es=Object.getOwnPropertyDescriptor&&Ds?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,Bt=Ds&&es&&typeof es.get=="function"?es.get:null,nr=Ds&&Map.prototype.forEach,Gs=typeof Set=="function"&&Set.prototype,ts=Object.getOwnPropertyDescriptor&&Gs?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,Ht=Gs&&ts&&typeof ts.get=="function"?ts.get:null,or=Gs&&Set.prototype.forEach,sa=typeof WeakMap=="function"&&WeakMap.prototype,ft=sa?WeakMap.prototype.has:null,ra=typeof WeakSet=="function"&&WeakSet.prototype,yt=ra?WeakSet.prototype.has:null,na=typeof WeakRef=="function"&&WeakRef.prototype,ir=na?WeakRef.prototype.deref:null,oa=Boolean.prototype.valueOf,ia=Object.prototype.toString,aa=Function.prototype.toString,la=String.prototype.match,Vs=String.prototype.slice,fe=String.prototype.replace,ca=String.prototype.toUpperCase,ar=String.prototype.toLowerCase,dn=RegExp.prototype.test,lr=Array.prototype.concat,re=Array.prototype.join,ua=Array.prototype.slice,cr=Math.floor,Ts=typeof BigInt=="function"?BigInt.prototype.valueOf:null,ss=Object.getOwnPropertySymbols,Ss=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,qe=typeof Symbol=="function"&&typeof Symbol.iterator=="object",U=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===qe||"symbol")?Symbol.toStringTag:null,pn=Object.prototype.propertyIsEnumerable,ur=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function hr(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||dn.call(/e/,e))return e;var s=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var r=t<0?-cr(-t):cr(t);if(r!==t){var n=String(r),o=Vs.call(e,n.length+1);return fe.call(n,s,"$&_")+"."+fe.call(fe.call(o,/([0-9]{3})/g,"$&_"),/_$/,"")}}return fe.call(e,s,"$&_")}var Es=ta,dr=Es.custom,pr=fn(dr)?dr:null,ha=function t(e,s,r,n){var o=s||{};if(me(o,"quoteStyle")&&o.quoteStyle!=="single"&&o.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(me(o,"maxStringLength")&&(typeof o.maxStringLength=="number"?o.maxStringLength<0&&o.maxStringLength!==1/0:o.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var l=me(o,"customInspect")?o.customInspect:!0;if(typeof l!="boolean"&&l!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(me(o,"indent")&&o.indent!==null&&o.indent!=="	"&&!(parseInt(o.indent,10)===o.indent&&o.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(me(o,"numericSeparator")&&typeof o.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var i=o.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return _n(e,o);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var u=String(e);return i?hr(e,u):u}if(typeof e=="bigint"){var c=String(e)+"n";return i?hr(e,c):c}var d=typeof o.depth>"u"?5:o.depth;if(typeof r>"u"&&(r=0),r>=d&&d>0&&typeof e=="object")return ws(e)?"[Array]":"[Object]";var m=xa(o,r);if(typeof n>"u")n=[];else if(yn(n,e)>=0)return"[Circular]";function y(ae,we,Pt){if(we&&(n=ua.call(n),n.push(we)),Pt){var Oe={depth:o.depth};return me(o,"quoteStyle")&&(Oe.quoteStyle=o.quoteStyle),t(ae,Oe,r+1,n)}return t(ae,o,r+1,n)}if(typeof e=="function"&&!mr(e)){var p=Pa(e),v=bt(e,y);return"[Function"+(p?": "+p:" (anonymous)")+"]"+(v.length>0?" { "+re.call(v,", ")+" }":"")}if(fn(e)){var b=qe?fe.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):Ss.call(e);return typeof e=="object"&&!qe?Ke(b):b}if(Oa(e)){for(var P="<"+ar.call(String(e.nodeName)),g=e.attributes||[],k=0;k<g.length;k++)P+=" "+g[k].name+"="+mn(da(g[k].value),"double",o);return P+=">",e.childNodes&&e.childNodes.length&&(P+="..."),P+="</"+ar.call(String(e.nodeName))+">",P}if(ws(e)){if(e.length===0)return"[]";var R=bt(e,y);return m&&!Aa(R)?"["+Os(R,m)+"]":"[ "+re.call(R,", ")+" ]"}if(ma(e)){var I=bt(e,y);return!("cause"in Error.prototype)&&"cause"in e&&!pn.call(e,"cause")?"{ ["+String(e)+"] "+re.call(lr.call("[cause]: "+y(e.cause),I),", ")+" }":I.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+re.call(I,", ")+" }"}if(typeof e=="object"&&l){if(pr&&typeof e[pr]=="function"&&Es)return Es(e,{depth:d-r});if(l!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(ba(e)){var q=[];return nr&&nr.call(e,function(ae,we){q.push(y(we,e,!0)+" => "+y(ae,e))}),fr("Map",Bt.call(e),q,m)}if(Ea(e)){var M=[];return or&&or.call(e,function(ae){M.push(y(ae,e))}),fr("Set",Ht.call(e),M,m)}if(Ta(e))return rs("WeakMap");if(wa(e))return rs("WeakSet");if(Sa(e))return rs("WeakRef");if(ya(e))return Ke(y(Number(e)));if(va(e))return Ke(y(Ts.call(e)));if(_a(e))return Ke(oa.call(e));if(fa(e))return Ke(y(String(e)));if(!pa(e)&&!mr(e)){var j=bt(e,y),ue=ur?ur(e)===Object.prototype:e instanceof Object||e.constructor===Object,Se=e instanceof Object?"":"null prototype",Ee=!ue&&U&&Object(e)===e&&U in e?Vs.call(ye(e),8,-1):Se?"Object":"",ze=ue||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",K=ze+(Ee||Se?"["+re.call(lr.call([],Ee||[],Se||[]),": ")+"] ":"");return j.length===0?K+"{}":m?K+"{"+Os(j,m)+"}":K+"{ "+re.call(j,", ")+" }"}return String(e)};function mn(t,e,s){var r=(s.quoteStyle||e)==="double"?'"':"'";return r+t+r}function da(t){return fe.call(String(t),/"/g,"&quot;")}function ws(t){return ye(t)==="[object Array]"&&(!U||!(typeof t=="object"&&U in t))}function pa(t){return ye(t)==="[object Date]"&&(!U||!(typeof t=="object"&&U in t))}function mr(t){return ye(t)==="[object RegExp]"&&(!U||!(typeof t=="object"&&U in t))}function ma(t){return ye(t)==="[object Error]"&&(!U||!(typeof t=="object"&&U in t))}function fa(t){return ye(t)==="[object String]"&&(!U||!(typeof t=="object"&&U in t))}function ya(t){return ye(t)==="[object Number]"&&(!U||!(typeof t=="object"&&U in t))}function _a(t){return ye(t)==="[object Boolean]"&&(!U||!(typeof t=="object"&&U in t))}function fn(t){if(qe)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!Ss)return!1;try{return Ss.call(t),!0}catch{}return!1}function va(t){if(!t||typeof t!="object"||!Ts)return!1;try{return Ts.call(t),!0}catch{}return!1}var ga=Object.prototype.hasOwnProperty||function(t){return t in this};function me(t,e){return ga.call(t,e)}function ye(t){return ia.call(t)}function Pa(t){if(t.name)return t.name;var e=la.call(aa.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function yn(t,e){if(t.indexOf)return t.indexOf(e);for(var s=0,r=t.length;s<r;s++)if(t[s]===e)return s;return-1}function ba(t){if(!Bt||!t||typeof t!="object")return!1;try{Bt.call(t);try{Ht.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function Ta(t){if(!ft||!t||typeof t!="object")return!1;try{ft.call(t,ft);try{yt.call(t,yt)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function Sa(t){if(!ir||!t||typeof t!="object")return!1;try{return ir.call(t),!0}catch{}return!1}function Ea(t){if(!Ht||!t||typeof t!="object")return!1;try{Ht.call(t);try{Bt.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function wa(t){if(!yt||!t||typeof t!="object")return!1;try{yt.call(t,yt);try{ft.call(t,ft)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function Oa(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function _n(t,e){if(t.length>e.maxStringLength){var s=t.length-e.maxStringLength,r="... "+s+" more character"+(s>1?"s":"");return _n(Vs.call(t,0,e.maxStringLength),e)+r}var n=fe.call(fe.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,$a);return mn(n,"single",e)}function $a(t){var e=t.charCodeAt(0),s={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return s?"\\"+s:"\\x"+(e<16?"0":"")+ca.call(e.toString(16))}function Ke(t){return"Object("+t+")"}function rs(t){return t+" { ? }"}function fr(t,e,s,r){var n=r?Os(s,r):re.call(s,", ");return t+" ("+e+") {"+n+"}"}function Aa(t){for(var e=0;e<t.length;e++)if(yn(t[e],`
`)>=0)return!1;return!0}function xa(t,e){var s;if(t.indent==="	")s="	";else if(typeof t.indent=="number"&&t.indent>0)s=re.call(Array(t.indent+1)," ");else return null;return{base:s,prev:re.call(Array(e+1),s)}}function Os(t,e){if(t.length===0)return"";var s=`
`+e.prev+e.base;return s+re.call(t,","+s)+`
`+e.prev}function bt(t,e){var s=ws(t),r=[];if(s){r.length=t.length;for(var n=0;n<t.length;n++)r[n]=me(t,n)?e(t[n],t):""}var o=typeof ss=="function"?ss(t):[],l;if(qe){l={};for(var i=0;i<o.length;i++)l["$"+o[i]]=o[i]}for(var u in t)me(t,u)&&(s&&String(Number(u))===u&&u<t.length||qe&&l["$"+u]instanceof Symbol||(dn.call(/[^\w$]/,u)?r.push(e(u,t)+": "+e(t[u],t)):r.push(u+": "+e(t[u],t))));if(typeof ss=="function")for(var c=0;c<o.length;c++)pn.call(t,o[c])&&r.push("["+e(o[c])+"]: "+e(t[o[c]],t));return r}var Us=Ns,je=Xi,ka=ha,Ra=Us("%TypeError%"),Tt=Us("%WeakMap%",!0),St=Us("%Map%",!0),Ca=je("WeakMap.prototype.get",!0),Ia=je("WeakMap.prototype.set",!0),La=je("WeakMap.prototype.has",!0),Fa=je("Map.prototype.get",!0),Ma=je("Map.prototype.set",!0),Na=je("Map.prototype.has",!0),qs=function(t,e){for(var s=t,r;(r=s.next)!==null;s=r)if(r.key===e)return s.next=r.next,r.next=t.next,t.next=r,r},Da=function(t,e){var s=qs(t,e);return s&&s.value},Ga=function(t,e,s){var r=qs(t,e);r?r.value=s:t.next={key:e,next:t.next,value:s}},Va=function(t,e){return!!qs(t,e)},Ua=function(){var e,s,r,n={assert:function(o){if(!n.has(o))throw new Ra("Side channel does not contain "+ka(o))},get:function(o){if(Tt&&o&&(typeof o=="object"||typeof o=="function")){if(e)return Ca(e,o)}else if(St){if(s)return Fa(s,o)}else if(r)return Da(r,o)},has:function(o){if(Tt&&o&&(typeof o=="object"||typeof o=="function")){if(e)return La(e,o)}else if(St){if(s)return Na(s,o)}else if(r)return Va(r,o);return!1},set:function(o,l){Tt&&o&&(typeof o=="object"||typeof o=="function")?(e||(e=new Tt),Ia(e,o,l)):St?(s||(s=new St),Ma(s,o,l)):(r||(r={key:{},next:null}),Ga(r,o,l))}};return n},qa=String.prototype.replace,Ba=/%20/g,ns={RFC1738:"RFC1738",RFC3986:"RFC3986"},Bs={default:ns.RFC3986,formatters:{RFC1738:function(t){return qa.call(t,Ba,"+")},RFC3986:function(t){return String(t)}},RFC1738:ns.RFC1738,RFC3986:ns.RFC3986},Ha=Bs,os=Object.prototype.hasOwnProperty,ge=Array.isArray,ee=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),Wa=function(e){for(;e.length>1;){var s=e.pop(),r=s.obj[s.prop];if(ge(r)){for(var n=[],o=0;o<r.length;++o)typeof r[o]<"u"&&n.push(r[o]);s.obj[s.prop]=n}}},vn=function(e,s){for(var r=s&&s.plainObjects?Object.create(null):{},n=0;n<e.length;++n)typeof e[n]<"u"&&(r[n]=e[n]);return r},ja=function t(e,s,r){if(!s)return e;if(typeof s!="object"){if(ge(e))e.push(s);else if(e&&typeof e=="object")(r&&(r.plainObjects||r.allowPrototypes)||!os.call(Object.prototype,s))&&(e[s]=!0);else return[e,s];return e}if(!e||typeof e!="object")return[e].concat(s);var n=e;return ge(e)&&!ge(s)&&(n=vn(e,r)),ge(e)&&ge(s)?(s.forEach(function(o,l){if(os.call(e,l)){var i=e[l];i&&typeof i=="object"&&o&&typeof o=="object"?e[l]=t(i,o,r):e.push(o)}else e[l]=o}),e):Object.keys(s).reduce(function(o,l){var i=s[l];return os.call(o,l)?o[l]=t(o[l],i,r):o[l]=i,o},n)},za=function(e,s){return Object.keys(s).reduce(function(r,n){return r[n]=s[n],r},e)},Ka=function(t,e,s){var r=t.replace(/\+/g," ");if(s==="iso-8859-1")return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch{return r}},Ya=function(e,s,r,n,o){if(e.length===0)return e;var l=e;if(typeof e=="symbol"?l=Symbol.prototype.toString.call(e):typeof e!="string"&&(l=String(e)),r==="iso-8859-1")return escape(l).replace(/%u[0-9a-f]{4}/gi,function(d){return"%26%23"+parseInt(d.slice(2),16)+"%3B"});for(var i="",u=0;u<l.length;++u){var c=l.charCodeAt(u);if(c===45||c===46||c===95||c===126||c>=48&&c<=57||c>=65&&c<=90||c>=97&&c<=122||o===Ha.RFC1738&&(c===40||c===41)){i+=l.charAt(u);continue}if(c<128){i=i+ee[c];continue}if(c<2048){i=i+(ee[192|c>>6]+ee[128|c&63]);continue}if(c<55296||c>=57344){i=i+(ee[224|c>>12]+ee[128|c>>6&63]+ee[128|c&63]);continue}u+=1,c=65536+((c&1023)<<10|l.charCodeAt(u)&1023),i+=ee[240|c>>18]+ee[128|c>>12&63]+ee[128|c>>6&63]+ee[128|c&63]}return i},Ja=function(e){for(var s=[{obj:{o:e},prop:"o"}],r=[],n=0;n<s.length;++n)for(var o=s[n],l=o.obj[o.prop],i=Object.keys(l),u=0;u<i.length;++u){var c=i[u],d=l[c];typeof d=="object"&&d!==null&&r.indexOf(d)===-1&&(s.push({obj:l,prop:c}),r.push(d))}return Wa(s),e},Qa=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},Xa=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},Za=function(e,s){return[].concat(e,s)},el=function(e,s){if(ge(e)){for(var r=[],n=0;n<e.length;n+=1)r.push(s(e[n]));return r}return s(e)},gn={arrayToObject:vn,assign:za,combine:Za,compact:Ja,decode:Ka,encode:Ya,isBuffer:Xa,isRegExp:Qa,maybeMap:el,merge:ja},Pn=Ua,Vt=gn,_t=Bs,tl=Object.prototype.hasOwnProperty,yr={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,s){return e+"["+s+"]"},repeat:function(e){return e}},ce=Array.isArray,sl=Array.prototype.push,bn=function(t,e){sl.apply(t,ce(e)?e:[e])},rl=Date.prototype.toISOString,_r=_t.default,G={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:Vt.encode,encodeValuesOnly:!1,format:_r,formatter:_t.formatters[_r],indices:!1,serializeDate:function(e){return rl.call(e)},skipNulls:!1,strictNullHandling:!1},nl=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},is={},ol=function t(e,s,r,n,o,l,i,u,c,d,m,y,p,v,b,P){for(var g=e,k=P,R=0,I=!1;(k=k.get(is))!==void 0&&!I;){var q=k.get(e);if(R+=1,typeof q<"u"){if(q===R)throw new RangeError("Cyclic object value");I=!0}typeof k.get(is)>"u"&&(R=0)}if(typeof u=="function"?g=u(s,g):g instanceof Date?g=m(g):r==="comma"&&ce(g)&&(g=Vt.maybeMap(g,function(Oe){return Oe instanceof Date?m(Oe):Oe})),g===null){if(o)return i&&!v?i(s,G.encoder,b,"key",y):s;g=""}if(nl(g)||Vt.isBuffer(g)){if(i){var M=v?s:i(s,G.encoder,b,"key",y);return[p(M)+"="+p(i(g,G.encoder,b,"value",y))]}return[p(s)+"="+p(String(g))]}var j=[];if(typeof g>"u")return j;var ue;if(r==="comma"&&ce(g))v&&i&&(g=Vt.maybeMap(g,i)),ue=[{value:g.length>0?g.join(",")||null:void 0}];else if(ce(u))ue=u;else{var Se=Object.keys(g);ue=c?Se.sort(c):Se}for(var Ee=n&&ce(g)&&g.length===1?s+"[]":s,ze=0;ze<ue.length;++ze){var K=ue[ze],ae=typeof K=="object"&&typeof K.value<"u"?K.value:g[K];if(!(l&&ae===null)){var we=ce(g)?typeof r=="function"?r(Ee,K):Ee:Ee+(d?"."+K:"["+K+"]");P.set(e,R);var Pt=Pn();Pt.set(is,P),bn(j,t(ae,we,r,n,o,l,r==="comma"&&v&&ce(g)?null:i,u,c,d,m,y,p,v,b,Pt))}}return j},il=function(e){if(!e)return G;if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var s=e.charset||G.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=_t.default;if(typeof e.format<"u"){if(!tl.call(_t.formatters,e.format))throw new TypeError("Unknown format option provided.");r=e.format}var n=_t.formatters[r],o=G.filter;return(typeof e.filter=="function"||ce(e.filter))&&(o=e.filter),{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:G.addQueryPrefix,allowDots:typeof e.allowDots>"u"?G.allowDots:!!e.allowDots,charset:s,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:G.charsetSentinel,delimiter:typeof e.delimiter>"u"?G.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:G.encode,encoder:typeof e.encoder=="function"?e.encoder:G.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:G.encodeValuesOnly,filter:o,format:r,formatter:n,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:G.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:G.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:G.strictNullHandling}},al=function(t,e){var s=t,r=il(e),n,o;typeof r.filter=="function"?(o=r.filter,s=o("",s)):ce(r.filter)&&(o=r.filter,n=o);var l=[];if(typeof s!="object"||s===null)return"";var i;e&&e.arrayFormat in yr?i=e.arrayFormat:e&&"indices"in e?i=e.indices?"indices":"repeat":i="indices";var u=yr[i];if(e&&"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var c=u==="comma"&&e&&e.commaRoundTrip;n||(n=Object.keys(s)),r.sort&&n.sort(r.sort);for(var d=Pn(),m=0;m<n.length;++m){var y=n[m];r.skipNulls&&s[y]===null||bn(l,ol(s[y],y,u,c,r.strictNullHandling,r.skipNulls,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.format,r.formatter,r.encodeValuesOnly,r.charset,d))}var p=l.join(r.delimiter),v=r.addQueryPrefix===!0?"?":"";return r.charsetSentinel&&(r.charset==="iso-8859-1"?v+="utf8=%26%2310003%3B&":v+="utf8=%E2%9C%93&"),p.length>0?v+p:""},Be=gn,$s=Object.prototype.hasOwnProperty,ll=Array.isArray,N={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:Be.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},cl=function(t){return t.replace(/&#(\d+);/g,function(e,s){return String.fromCharCode(parseInt(s,10))})},Tn=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},ul="utf8=%26%2310003%3B",hl="utf8=%E2%9C%93",dl=function(e,s){var r={__proto__:null},n=s.ignoreQueryPrefix?e.replace(/^\?/,""):e,o=s.parameterLimit===1/0?void 0:s.parameterLimit,l=n.split(s.delimiter,o),i=-1,u,c=s.charset;if(s.charsetSentinel)for(u=0;u<l.length;++u)l[u].indexOf("utf8=")===0&&(l[u]===hl?c="utf-8":l[u]===ul&&(c="iso-8859-1"),i=u,u=l.length);for(u=0;u<l.length;++u)if(u!==i){var d=l[u],m=d.indexOf("]="),y=m===-1?d.indexOf("="):m+1,p,v;y===-1?(p=s.decoder(d,N.decoder,c,"key"),v=s.strictNullHandling?null:""):(p=s.decoder(d.slice(0,y),N.decoder,c,"key"),v=Be.maybeMap(Tn(d.slice(y+1),s),function(b){return s.decoder(b,N.decoder,c,"value")})),v&&s.interpretNumericEntities&&c==="iso-8859-1"&&(v=cl(v)),d.indexOf("[]=")>-1&&(v=ll(v)?[v]:v),$s.call(r,p)?r[p]=Be.combine(r[p],v):r[p]=v}return r},pl=function(t,e,s,r){for(var n=r?e:Tn(e,s),o=t.length-1;o>=0;--o){var l,i=t[o];if(i==="[]"&&s.parseArrays)l=[].concat(n);else{l=s.plainObjects?Object.create(null):{};var u=i.charAt(0)==="["&&i.charAt(i.length-1)==="]"?i.slice(1,-1):i,c=parseInt(u,10);!s.parseArrays&&u===""?l={0:n}:!isNaN(c)&&i!==u&&String(c)===u&&c>=0&&s.parseArrays&&c<=s.arrayLimit?(l=[],l[c]=n):u!=="__proto__"&&(l[u]=n)}n=l}return n},ml=function(e,s,r,n){if(e){var o=r.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,l=/(\[[^[\]]*])/,i=/(\[[^[\]]*])/g,u=r.depth>0&&l.exec(o),c=u?o.slice(0,u.index):o,d=[];if(c){if(!r.plainObjects&&$s.call(Object.prototype,c)&&!r.allowPrototypes)return;d.push(c)}for(var m=0;r.depth>0&&(u=i.exec(o))!==null&&m<r.depth;){if(m+=1,!r.plainObjects&&$s.call(Object.prototype,u[1].slice(1,-1))&&!r.allowPrototypes)return;d.push(u[1])}return u&&d.push("["+o.slice(u.index)+"]"),pl(d,s,r,n)}},fl=function(e){if(!e)return N;if(e.decoder!==null&&e.decoder!==void 0&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var s=typeof e.charset>"u"?N.charset:e.charset;return{allowDots:typeof e.allowDots>"u"?N.allowDots:!!e.allowDots,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:N.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:N.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:N.arrayLimit,charset:s,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:N.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:N.comma,decoder:typeof e.decoder=="function"?e.decoder:N.decoder,delimiter:typeof e.delimiter=="string"||Be.isRegExp(e.delimiter)?e.delimiter:N.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:N.depth,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:N.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:N.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:N.plainObjects,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:N.strictNullHandling}},yl=function(t,e){var s=fl(e);if(t===""||t===null||typeof t>"u")return s.plainObjects?Object.create(null):{};for(var r=typeof t=="string"?dl(t,s):t,n=s.plainObjects?Object.create(null):{},o=Object.keys(r),l=0;l<o.length;++l){var i=o[l],u=ml(i,r[i],s,typeof t=="string");n=Be.merge(n,u,s)}return s.allowSparse===!0?n:Be.compact(n)},_l=al,vl=yl,gl=Bs,Pl={formats:gl,parse:vl,stringify:_l};const Hs=["apiKey","idempotencyKey","stripeAccount","apiVersion","maxNetworkRetries","timeout","host"];function Sn(t){return t&&typeof t=="object"&&Hs.some(e=>Object.prototype.hasOwnProperty.call(t,e))}function Yt(t){return Pl.stringify(t,{serializeDate:e=>Math.floor(e.getTime()/1e3).toString()}).replace(/%5B/g,"[").replace(/%5D/g,"]")}const As=(()=>{const t={"\n":"\\n",'"':'\\"',"\u2028":"\\u2028","\u2029":"\\u2029"};return e=>{const s=e.replace(/["\n\r\u2028\u2029]/g,r=>t[r]);return r=>s.replace(/\{([\s\S]+?)\}/g,(n,o)=>encodeURIComponent(r[o]||""))}})();function bl(t){const e=t.match(/\{\w+\}/g);return e?e.map(s=>s.replace(/[{}]/g,"")):[]}function En(t){if(!Array.isArray(t)||!t[0]||typeof t[0]!="object")return{};if(!Sn(t[0]))return t.shift();const e=Object.keys(t[0]),s=e.filter(r=>Hs.includes(r));return s.length>0&&s.length!==e.length&&Wt(`Options found in arguments (${s.join(", ")}). Did you mean to pass an options object? See https://github.com/stripe/stripe-node/wiki/Passing-Options.`),{}}function Tl(t){const e={auth:null,host:null,headers:{},settings:{}};if(t.length>0){const s=t[t.length-1];if(typeof s=="string")e.auth=t.pop();else if(Sn(s)){const r=Object.assign({},t.pop()),n=Object.keys(r).filter(o=>!Hs.includes(o));n.length&&Wt(`Invalid options found (${n.join(", ")}); ignoring.`),r.apiKey&&(e.auth=r.apiKey),r.idempotencyKey&&(e.headers["Idempotency-Key"]=r.idempotencyKey),r.stripeAccount&&(e.headers["Stripe-Account"]=r.stripeAccount),r.apiVersion&&(e.headers["Stripe-Version"]=r.apiVersion),Number.isInteger(r.maxNetworkRetries)&&(e.settings.maxNetworkRetries=r.maxNetworkRetries),Number.isInteger(r.timeout)&&(e.settings.timeout=r.timeout),r.host&&(e.host=r.host)}}return e}function Sl(t){const e=this,s=Object.prototype.hasOwnProperty.call(t,"constructor")?t.constructor:function(...r){e.apply(this,r)};return Object.assign(s,e),s.prototype=Object.create(e.prototype),Object.assign(s.prototype,t),s}function as(t){if(typeof t!="object")throw new Error("Argument must be an object");return Object.keys(t).reduce((e,s)=>(t[s]!=null&&(e[s]=t[s]),e),{})}function El(t){return t&&typeof t=="object"?Object.keys(t).reduce((e,s)=>(e[wl(s)]=t[s],e),{}):t}function wl(t){return t.split("-").map(e=>e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()).join("-")}function Ws(t,e){return e?t.then(s=>{setTimeout(()=>{e(null,s)},0)},s=>{setTimeout(()=>{e(s,null)},0)}):t}function Ol(t){return t==="OAuth"?"oauth":t[0].toLowerCase()+t.substring(1)}function Wt(t){return typeof process.emitWarning!="function"?console.warn(`Stripe: ${t}`):process.emitWarning(t,"Stripe")}function $l(t){const e=typeof t;return(e==="function"||e==="object")&&!!t}function Al(t){const e={},s=(r,n)=>{Object.keys(r).forEach(o=>{const l=r[o],i=n?`${n}[${o}]`:o;if($l(l)){if(!(l instanceof Uint8Array)&&!Object.prototype.hasOwnProperty.call(l,"data"))return s(l,i);e[i]=l}else e[i]=String(l)})};return s(t,null),e}function ls(t,e,s){if(!Number.isInteger(e)){if(s!==void 0)return s;throw new Error(`${t} must be an integer`)}return e}function xl(){return typeof process>"u"?{}:{lang_version:process.version,platform:process.platform}}class wn{constructor(e,s,r,n){this.index=0,this.pagePromise=e,this.promiseCache={currentPromise:null},this.requestArgs=s,this.spec=r,this.stripeResource=n}async iterate(e){if(!(e&&e.data&&typeof e.data.length=="number"))throw Error("Unexpected: Stripe API response does not have a well-formed `data` array.");const s=On(this.requestArgs);if(this.index<e.data.length){const r=s?e.data.length-1-this.index:this.index,n=e.data[r];return this.index+=1,{value:n,done:!1}}else if(e.has_more){this.index=0,this.pagePromise=this.getNextPage(e);const r=await this.pagePromise;return this.iterate(r)}return{done:!0,value:void 0}}getNextPage(e){throw new Error("Unimplemented")}async _next(){return this.iterate(await this.pagePromise)}next(){if(this.promiseCache.currentPromise)return this.promiseCache.currentPromise;const e=(async()=>{const s=await this._next();return this.promiseCache.currentPromise=null,s})();return this.promiseCache.currentPromise=e,e}}class kl extends wn{getNextPage(e){const s=On(this.requestArgs),r=Ml(e,s);return this.stripeResource._makeRequest(this.requestArgs,this.spec,{[s?"ending_before":"starting_after"]:r})}}class Rl extends wn{getNextPage(e){if(!e.next_page)throw Error("Unexpected: Stripe API response does not have a well-formed `next_page` field, but `has_more` was true.");return this.stripeResource._makeRequest(this.requestArgs,this.spec,{page:e.next_page})}}const Cl=(t,e,s,r)=>s.methodType==="search"?vr(new Rl(r,e,s,t)):s.methodType==="list"?vr(new kl(r,e,s,t)):null,vr=t=>{const e=Nl((...n)=>t.next(...n)),s=Dl(e),r={autoPagingEach:e,autoPagingToArray:s,next:()=>t.next(),return:()=>({}),[Il()]:()=>r};return r};function Il(){return typeof Symbol<"u"&&Symbol.asyncIterator?Symbol.asyncIterator:"@@asyncIterator"}function Ll(t){if(t.length<2)return null;const e=t[1];if(typeof e!="function")throw Error(`The second argument to autoPagingEach, if present, must be a callback function; received ${typeof e}`);return e}function Fl(t){if(t.length===0)return;const e=t[0];if(typeof e!="function")throw Error(`The first argument to autoPagingEach, if present, must be a callback function; received ${typeof e}`);if(e.length===2)return e;if(e.length>2)throw Error(`The \`onItem\` callback function passed to autoPagingEach must accept at most two arguments; got ${e}`);return function(r,n){const o=e(r);n(o)}}function Ml(t,e){const s=e?0:t.data.length-1,r=t.data[s],n=r&&r.id;if(!n)throw Error("Unexpected: No `id` found on the last item while auto-paging a list.");return n}function Nl(t){return function(){const s=[].slice.call(arguments),r=Fl(s),n=Ll(s);if(s.length>2)throw Error(`autoPagingEach takes up to two arguments; received ${s}`);const o=Gl(t,r);return Ws(o,n)}}function Dl(t){return function(s,r){const n=s&&s.limit;if(!n)throw Error("You must pass a `limit` option to autoPagingToArray, e.g., `autoPagingToArray({limit: 1000});`.");if(n>1e4)throw Error("You cannot specify a limit of more than 10,000 items to fetch in `autoPagingToArray`; use `autoPagingEach` to iterate through longer lists.");const o=new Promise((l,i)=>{const u=[];t(c=>{if(u.push(c),u.length>=n)return!1}).then(()=>{l(u)}).catch(i)});return Ws(o,r)}}function Gl(t,e){return new Promise((s,r)=>{function n(o){if(o.done){s();return}const l=o.value;return new Promise(i=>{e(l,i)}).then(i=>i===!1?n({done:!0,value:void 0}):t().then(n))}t().then(n).catch(r)})}function On(t){const e=[].slice.call(t);return!!En(e).ending_before}function Vl(t){if(t.path!==void 0&&t.fullPath!==void 0)throw new Error(`Method spec specified both a 'path' (${t.path}) and a 'fullPath' (${t.fullPath}).`);return function(...e){const s=typeof e[e.length-1]=="function"&&e.pop();t.urlParams=bl(t.fullPath||this.createResourcePathWithSymbols(t.path||""));const r=Ws(this._makeRequest(e,t,{}),s);return Object.assign(r,Cl(this,e,t,r)),r}}a.extend=Sl;a.method=Vl;a.MAX_BUFFERED_REQUEST_METRICS=100;function a(t,e){if(this._stripe=t,e)throw new Error("Support for curried url params was dropped in stripe-node v7.0.0. Instead, pass two ids.");this.basePath=As(this.basePath||t.getApiField("basePath")),this.resourcePath=this.path,this.path=As(this.path),this.initialize(...arguments)}a.prototype={_stripe:null,path:"",resourcePath:"",basePath:null,initialize(){},requestDataProcessor:null,validateRequest:null,createFullPath(t,e){const s=[this.basePath(e),this.path(e)];if(typeof t=="function"){const r=t(e);r&&s.push(r)}else s.push(t);return this._joinUrlParts(s)},createResourcePathWithSymbols(t){return t?`/${this._joinUrlParts([this.resourcePath,t])}`:`/${this.resourcePath}`},_joinUrlParts(t){return t.join("/").replace(/\/{2,}/g,"/")},_getRequestOpts(t,e,s){const r=(e.method||"GET").toUpperCase(),n=e.urlParams||[],o=e.encode||(q=>q),l=!!e.fullPath,i=As(l?e.fullPath:e.path||""),u=l?e.fullPath:this.createResourcePathWithSymbols(e.path),c=[].slice.call(t),d=n.reduce((q,M)=>{const j=c.shift();if(typeof j!="string")throw new Error(`Stripe: Argument "${M}" must be a string, but got: ${j} (on API request to \`${r} ${u}\`)`);return q[M]=j,q},{}),m=En(c),y=o(Object.assign({},m,s)),p=Tl(c),v=p.host||e.host,b=!!e.streaming;if(c.filter(q=>q!=null).length)throw new Error(`Stripe: Unknown arguments (${c}). Did you mean to pass an options object? See https://github.com/stripe/stripe-node/wiki/Passing-Options. (on API request to ${r} \`${u}\`)`);const P=l?i(d):this.createFullPath(i,d),g=Object.assign(p.headers,e.headers);e.validator&&e.validator(y,{headers:g});const k=e.method==="GET"||e.method==="DELETE";return{requestMethod:r,requestPath:P,bodyData:k?{}:y,queryData:k?y:{},auth:p.auth,headers:g,host:v??null,streaming:b,settings:p.settings}},_makeRequest(t,e,s){return new Promise((r,n)=>{var o;let l;try{l=this._getRequestOpts(t,e,s)}catch(y){n(y);return}function i(y,p){y?n(y):r(e.transformResponseData?e.transformResponseData(p):p)}const u=Object.keys(l.queryData).length===0,c=[l.requestPath,u?"":"?",Yt(l.queryData)].join(""),{headers:d,settings:m}=l;this._stripe._requestSender._request(l.requestMethod,l.host,c,l.bodyData,l.auth,{headers:d,settings:m,streaming:l.streaming},i,(o=this.requestDataProcessor)===null||o===void 0?void 0:o.bind(this))})}};const Ye=a.method,Ul=a.extend({retrieve:Ye({method:"GET",fullPath:"/v1/financial_connections/accounts/{account}"}),list:Ye({method:"GET",fullPath:"/v1/financial_connections/accounts",methodType:"list"}),disconnect:Ye({method:"POST",fullPath:"/v1/financial_connections/accounts/{account}/disconnect"}),listOwners:Ye({method:"GET",fullPath:"/v1/financial_connections/accounts/{account}/owners",methodType:"list"}),refresh:Ye({method:"POST",fullPath:"/v1/financial_connections/accounts/{account}/refresh"})}),Je=a.method,ql=a.extend({retrieve:Je({method:"GET",fullPath:"/v1/issuing/authorizations/{authorization}"}),update:Je({method:"POST",fullPath:"/v1/issuing/authorizations/{authorization}"}),list:Je({method:"GET",fullPath:"/v1/issuing/authorizations",methodType:"list"}),approve:Je({method:"POST",fullPath:"/v1/issuing/authorizations/{authorization}/approve"}),decline:Je({method:"POST",fullPath:"/v1/issuing/authorizations/{authorization}/decline"})}),gr=a.method,Bl=a.extend({create:gr({method:"POST",fullPath:"/v1/tax/calculations"}),listLineItems:gr({method:"GET",fullPath:"/v1/tax/calculations/{calculation}/line_items",methodType:"list"})}),Et=a.method,Hl=a.extend({create:Et({method:"POST",fullPath:"/v1/issuing/cardholders"}),retrieve:Et({method:"GET",fullPath:"/v1/issuing/cardholders/{cardholder}"}),update:Et({method:"POST",fullPath:"/v1/issuing/cardholders/{cardholder}"}),list:Et({method:"GET",fullPath:"/v1/issuing/cardholders",methodType:"list"})}),wt=a.method,Wl=a.extend({deliverCard:wt({method:"POST",fullPath:"/v1/test_helpers/issuing/cards/{card}/shipping/deliver"}),failCard:wt({method:"POST",fullPath:"/v1/test_helpers/issuing/cards/{card}/shipping/fail"}),returnCard:wt({method:"POST",fullPath:"/v1/test_helpers/issuing/cards/{card}/shipping/return"}),shipCard:wt({method:"POST",fullPath:"/v1/test_helpers/issuing/cards/{card}/shipping/ship"})}),Ot=a.method,jl=a.extend({create:Ot({method:"POST",fullPath:"/v1/issuing/cards"}),retrieve:Ot({method:"GET",fullPath:"/v1/issuing/cards/{card}"}),update:Ot({method:"POST",fullPath:"/v1/issuing/cards/{card}"}),list:Ot({method:"GET",fullPath:"/v1/issuing/cards",methodType:"list"})}),$t=a.method,zl=a.extend({create:$t({method:"POST",fullPath:"/v1/billing_portal/configurations"}),retrieve:$t({method:"GET",fullPath:"/v1/billing_portal/configurations/{configuration}"}),update:$t({method:"POST",fullPath:"/v1/billing_portal/configurations/{configuration}"}),list:$t({method:"GET",fullPath:"/v1/billing_portal/configurations",methodType:"list"})}),Qe=a.method,Kl=a.extend({create:Qe({method:"POST",fullPath:"/v1/terminal/configurations"}),retrieve:Qe({method:"GET",fullPath:"/v1/terminal/configurations/{configuration}"}),update:Qe({method:"POST",fullPath:"/v1/terminal/configurations/{configuration}"}),list:Qe({method:"GET",fullPath:"/v1/terminal/configurations",methodType:"list"}),del:Qe({method:"DELETE",fullPath:"/v1/terminal/configurations/{configuration}"})}),Yl=a.method,Jl=a.extend({create:Yl({method:"POST",fullPath:"/v1/terminal/connection_tokens"})}),cs=a.method,Ql=a.extend({create:cs({method:"POST",fullPath:"/v1/treasury/credit_reversals"}),retrieve:cs({method:"GET",fullPath:"/v1/treasury/credit_reversals/{credit_reversal}"}),list:cs({method:"GET",fullPath:"/v1/treasury/credit_reversals",methodType:"list"})}),Xl=a.method,Zl=a.extend({fundCashBalance:Xl({method:"POST",fullPath:"/v1/test_helpers/customers/{customer}/fund_cash_balance"})}),us=a.method,ec=a.extend({create:us({method:"POST",fullPath:"/v1/treasury/debit_reversals"}),retrieve:us({method:"GET",fullPath:"/v1/treasury/debit_reversals/{debit_reversal}"}),list:us({method:"GET",fullPath:"/v1/treasury/debit_reversals",methodType:"list"})}),Xe=a.method,tc=a.extend({create:Xe({method:"POST",fullPath:"/v1/issuing/disputes"}),retrieve:Xe({method:"GET",fullPath:"/v1/issuing/disputes/{dispute}"}),update:Xe({method:"POST",fullPath:"/v1/issuing/disputes/{dispute}"}),list:Xe({method:"GET",fullPath:"/v1/issuing/disputes",methodType:"list"}),submit:Xe({method:"POST",fullPath:"/v1/issuing/disputes/{dispute}/submit"})}),Pr=a.method,sc=a.extend({retrieve:Pr({method:"GET",fullPath:"/v1/radar/early_fraud_warnings/{early_fraud_warning}"}),list:Pr({method:"GET",fullPath:"/v1/radar/early_fraud_warnings",methodType:"list"})}),ke=a.method,rc=a.extend({create:ke({method:"POST",fullPath:"/v1/treasury/financial_accounts"}),retrieve:ke({method:"GET",fullPath:"/v1/treasury/financial_accounts/{financial_account}"}),update:ke({method:"POST",fullPath:"/v1/treasury/financial_accounts/{financial_account}"}),list:ke({method:"GET",fullPath:"/v1/treasury/financial_accounts",methodType:"list"}),retrieveFeatures:ke({method:"GET",fullPath:"/v1/treasury/financial_accounts/{financial_account}/features"}),updateFeatures:ke({method:"POST",fullPath:"/v1/treasury/financial_accounts/{financial_account}/features"})}),hs=a.method,nc=a.extend({fail:hs({method:"POST",fullPath:"/v1/test_helpers/treasury/inbound_transfers/{id}/fail"}),returnInboundTransfer:hs({method:"POST",fullPath:"/v1/test_helpers/treasury/inbound_transfers/{id}/return"}),succeed:hs({method:"POST",fullPath:"/v1/test_helpers/treasury/inbound_transfers/{id}/succeed"})}),At=a.method,oc=a.extend({create:At({method:"POST",fullPath:"/v1/treasury/inbound_transfers"}),retrieve:At({method:"GET",fullPath:"/v1/treasury/inbound_transfers/{id}"}),list:At({method:"GET",fullPath:"/v1/treasury/inbound_transfers",methodType:"list"}),cancel:At({method:"POST",fullPath:"/v1/treasury/inbound_transfers/{inbound_transfer}/cancel"})}),Ze=a.method,ic=a.extend({create:Ze({method:"POST",fullPath:"/v1/terminal/locations"}),retrieve:Ze({method:"GET",fullPath:"/v1/terminal/locations/{location}"}),update:Ze({method:"POST",fullPath:"/v1/terminal/locations/{location}"}),list:Ze({method:"GET",fullPath:"/v1/terminal/locations",methodType:"list"}),del:Ze({method:"DELETE",fullPath:"/v1/terminal/locations/{location}"})}),ds=a.method,ac=a.extend({fail:ds({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_payments/{id}/fail"}),post:ds({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_payments/{id}/post"}),returnOutboundPayment:ds({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_payments/{id}/return"})}),xt=a.method,lc=a.extend({create:xt({method:"POST",fullPath:"/v1/treasury/outbound_payments"}),retrieve:xt({method:"GET",fullPath:"/v1/treasury/outbound_payments/{id}"}),list:xt({method:"GET",fullPath:"/v1/treasury/outbound_payments",methodType:"list"}),cancel:xt({method:"POST",fullPath:"/v1/treasury/outbound_payments/{id}/cancel"})}),ps=a.method,cc=a.extend({fail:ps({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_transfers/{outbound_transfer}/fail"}),post:ps({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_transfers/{outbound_transfer}/post"}),returnOutboundTransfer:ps({method:"POST",fullPath:"/v1/test_helpers/treasury/outbound_transfers/{outbound_transfer}/return"})}),kt=a.method,uc=a.extend({create:kt({method:"POST",fullPath:"/v1/treasury/outbound_transfers"}),retrieve:kt({method:"GET",fullPath:"/v1/treasury/outbound_transfers/{outbound_transfer}"}),list:kt({method:"GET",fullPath:"/v1/treasury/outbound_transfers",methodType:"list"}),cancel:kt({method:"POST",fullPath:"/v1/treasury/outbound_transfers/{outbound_transfer}/cancel"})}),hc=a.method,dc=a.extend({presentPaymentMethod:hc({method:"POST",fullPath:"/v1/test_helpers/terminal/readers/{reader}/present_payment_method"})}),te=a.method,pc=a.extend({create:te({method:"POST",fullPath:"/v1/terminal/readers"}),retrieve:te({method:"GET",fullPath:"/v1/terminal/readers/{reader}"}),update:te({method:"POST",fullPath:"/v1/terminal/readers/{reader}"}),list:te({method:"GET",fullPath:"/v1/terminal/readers",methodType:"list"}),del:te({method:"DELETE",fullPath:"/v1/terminal/readers/{reader}"}),cancelAction:te({method:"POST",fullPath:"/v1/terminal/readers/{reader}/cancel_action"}),processPaymentIntent:te({method:"POST",fullPath:"/v1/terminal/readers/{reader}/process_payment_intent"}),processSetupIntent:te({method:"POST",fullPath:"/v1/terminal/readers/{reader}/process_setup_intent"}),refundPayment:te({method:"POST",fullPath:"/v1/terminal/readers/{reader}/refund_payment"}),setReaderDisplay:te({method:"POST",fullPath:"/v1/terminal/readers/{reader}/set_reader_display"})}),mc=a.method,fc=a.extend({create:mc({method:"POST",fullPath:"/v1/test_helpers/treasury/received_credits"})}),br=a.method,yc=a.extend({retrieve:br({method:"GET",fullPath:"/v1/treasury/received_credits/{id}"}),list:br({method:"GET",fullPath:"/v1/treasury/received_credits",methodType:"list"})}),_c=a.method,vc=a.extend({create:_c({method:"POST",fullPath:"/v1/test_helpers/treasury/received_debits"})}),Tr=a.method,gc=a.extend({retrieve:Tr({method:"GET",fullPath:"/v1/treasury/received_debits/{id}"}),list:Tr({method:"GET",fullPath:"/v1/treasury/received_debits",methodType:"list"})}),Pc=a.method,bc=a.extend({expire:Pc({method:"POST",fullPath:"/v1/test_helpers/refunds/{refund}/expire"})}),ms=a.method,Tc=a.extend({create:ms({method:"POST",fullPath:"/v1/reporting/report_runs"}),retrieve:ms({method:"GET",fullPath:"/v1/reporting/report_runs/{report_run}"}),list:ms({method:"GET",fullPath:"/v1/reporting/report_runs",methodType:"list"})}),Sr=a.method,Sc=a.extend({retrieve:Sr({method:"GET",fullPath:"/v1/reporting/report_types/{report_type}"}),list:Sr({method:"GET",fullPath:"/v1/reporting/report_types",methodType:"list"})}),Er=a.method,Ec=a.extend({retrieve:Er({method:"GET",fullPath:"/v1/sigma/scheduled_query_runs/{scheduled_query_run}"}),list:Er({method:"GET",fullPath:"/v1/sigma/scheduled_query_runs",methodType:"list"})}),Rt=a.method,wc=a.extend({create:Rt({method:"POST",fullPath:"/v1/apps/secrets"}),list:Rt({method:"GET",fullPath:"/v1/apps/secrets",methodType:"list"}),deleteWhere:Rt({method:"POST",fullPath:"/v1/apps/secrets/delete"}),find:Rt({method:"GET",fullPath:"/v1/apps/secrets/find"})}),Oc=a.method,$c=a.extend({create:Oc({method:"POST",fullPath:"/v1/billing_portal/sessions"})}),et=a.method,Ac=a.extend({create:et({method:"POST",fullPath:"/v1/checkout/sessions"}),retrieve:et({method:"GET",fullPath:"/v1/checkout/sessions/{session}"}),list:et({method:"GET",fullPath:"/v1/checkout/sessions",methodType:"list"}),expire:et({method:"POST",fullPath:"/v1/checkout/sessions/{session}/expire"}),listLineItems:et({method:"GET",fullPath:"/v1/checkout/sessions/{session}/line_items",methodType:"list"})}),wr=a.method,xc=a.extend({create:wr({method:"POST",fullPath:"/v1/financial_connections/sessions"}),retrieve:wr({method:"GET",fullPath:"/v1/financial_connections/sessions/{session}"})}),Or=a.method,kc=a.extend({retrieve:Or({method:"GET",fullPath:"/v1/tax/settings"}),update:Or({method:"POST",fullPath:"/v1/tax/settings"})}),tt=a.method,Rc=a.extend({create:tt({method:"POST",fullPath:"/v1/test_helpers/test_clocks"}),retrieve:tt({method:"GET",fullPath:"/v1/test_helpers/test_clocks/{test_clock}"}),list:tt({method:"GET",fullPath:"/v1/test_helpers/test_clocks",methodType:"list"}),del:tt({method:"DELETE",fullPath:"/v1/test_helpers/test_clocks/{test_clock}"}),advance:tt({method:"POST",fullPath:"/v1/test_helpers/test_clocks/{test_clock}/advance"})}),$r=a.method,Cc=a.extend({retrieve:$r({method:"GET",fullPath:"/v1/treasury/transaction_entries/{id}"}),list:$r({method:"GET",fullPath:"/v1/treasury/transaction_entries",methodType:"list"})}),fs=a.method,Ic=a.extend({retrieve:fs({method:"GET",fullPath:"/v1/issuing/transactions/{transaction}"}),update:fs({method:"POST",fullPath:"/v1/issuing/transactions/{transaction}"}),list:fs({method:"GET",fullPath:"/v1/issuing/transactions",methodType:"list"})}),Ct=a.method,Lc=a.extend({retrieve:Ct({method:"GET",fullPath:"/v1/tax/transactions/{transaction}"}),createFromCalculation:Ct({method:"POST",fullPath:"/v1/tax/transactions/create_from_calculation"}),createReversal:Ct({method:"POST",fullPath:"/v1/tax/transactions/create_reversal"}),listLineItems:Ct({method:"GET",fullPath:"/v1/tax/transactions/{transaction}/line_items",methodType:"list"})}),Ar=a.method,Fc=a.extend({retrieve:Ar({method:"GET",fullPath:"/v1/treasury/transactions/{id}"}),list:Ar({method:"GET",fullPath:"/v1/treasury/transactions",methodType:"list"})}),It=a.method,Mc=a.extend({create:It({method:"POST",fullPath:"/v1/radar/value_list_items"}),retrieve:It({method:"GET",fullPath:"/v1/radar/value_list_items/{item}"}),list:It({method:"GET",fullPath:"/v1/radar/value_list_items",methodType:"list"}),del:It({method:"DELETE",fullPath:"/v1/radar/value_list_items/{item}"})}),st=a.method,Nc=a.extend({create:st({method:"POST",fullPath:"/v1/radar/value_lists"}),retrieve:st({method:"GET",fullPath:"/v1/radar/value_lists/{value_list}"}),update:st({method:"POST",fullPath:"/v1/radar/value_lists/{value_list}"}),list:st({method:"GET",fullPath:"/v1/radar/value_lists",methodType:"list"}),del:st({method:"DELETE",fullPath:"/v1/radar/value_lists/{value_list}"})}),xr=a.method,Dc=a.extend({retrieve:xr({method:"GET",fullPath:"/v1/identity/verification_reports/{report}"}),list:xr({method:"GET",fullPath:"/v1/identity/verification_reports",methodType:"list"})}),Re=a.method,Gc=a.extend({create:Re({method:"POST",fullPath:"/v1/identity/verification_sessions"}),retrieve:Re({method:"GET",fullPath:"/v1/identity/verification_sessions/{session}"}),update:Re({method:"POST",fullPath:"/v1/identity/verification_sessions/{session}"}),list:Re({method:"GET",fullPath:"/v1/identity/verification_sessions",methodType:"list"}),cancel:Re({method:"POST",fullPath:"/v1/identity/verification_sessions/{session}/cancel"}),redact:Re({method:"POST",fullPath:"/v1/identity/verification_sessions/{session}/redact"})}),C=a.method,kr=a.extend({create:C({method:"POST",fullPath:"/v1/accounts"}),retrieve(t,...e){return typeof t=="string"?C({method:"GET",fullPath:"/v1/accounts/{id}"}).apply(this,[t,...e]):(t==null&&[].shift.apply([t,...e]),C({method:"GET",fullPath:"/v1/account"}).apply(this,[t,...e]))},update:C({method:"POST",fullPath:"/v1/accounts/{account}"}),list:C({method:"GET",fullPath:"/v1/accounts",methodType:"list"}),del:C({method:"DELETE",fullPath:"/v1/accounts/{account}"}),createExternalAccount:C({method:"POST",fullPath:"/v1/accounts/{account}/external_accounts"}),createLoginLink:C({method:"POST",fullPath:"/v1/accounts/{account}/login_links"}),createPerson:C({method:"POST",fullPath:"/v1/accounts/{account}/persons"}),deleteExternalAccount:C({method:"DELETE",fullPath:"/v1/accounts/{account}/external_accounts/{id}"}),deletePerson:C({method:"DELETE",fullPath:"/v1/accounts/{account}/persons/{person}"}),listCapabilities:C({method:"GET",fullPath:"/v1/accounts/{account}/capabilities",methodType:"list"}),listExternalAccounts:C({method:"GET",fullPath:"/v1/accounts/{account}/external_accounts",methodType:"list"}),listPersons:C({method:"GET",fullPath:"/v1/accounts/{account}/persons",methodType:"list"}),reject:C({method:"POST",fullPath:"/v1/accounts/{account}/reject"}),retrieveCapability:C({method:"GET",fullPath:"/v1/accounts/{account}/capabilities/{capability}"}),retrieveExternalAccount:C({method:"GET",fullPath:"/v1/accounts/{account}/external_accounts/{id}"}),retrievePerson:C({method:"GET",fullPath:"/v1/accounts/{account}/persons/{person}"}),updateCapability:C({method:"POST",fullPath:"/v1/accounts/{account}/capabilities/{capability}"}),updateExternalAccount:C({method:"POST",fullPath:"/v1/accounts/{account}/external_accounts/{id}"}),updatePerson:C({method:"POST",fullPath:"/v1/accounts/{account}/persons/{person}"})}),Vc=a.method,Uc=a.extend({create:Vc({method:"POST",fullPath:"/v1/account_links"})}),Lt=a.method,qc=a.extend({create:Lt({method:"POST",fullPath:"/v1/apple_pay/domains"}),retrieve:Lt({method:"GET",fullPath:"/v1/apple_pay/domains/{domain}"}),list:Lt({method:"GET",fullPath:"/v1/apple_pay/domains",methodType:"list"}),del:Lt({method:"DELETE",fullPath:"/v1/apple_pay/domains/{domain}"})}),Ce=a.method,Bc=a.extend({retrieve:Ce({method:"GET",fullPath:"/v1/application_fees/{id}"}),list:Ce({method:"GET",fullPath:"/v1/application_fees",methodType:"list"}),createRefund:Ce({method:"POST",fullPath:"/v1/application_fees/{id}/refunds"}),listRefunds:Ce({method:"GET",fullPath:"/v1/application_fees/{id}/refunds",methodType:"list"}),retrieveRefund:Ce({method:"GET",fullPath:"/v1/application_fees/{fee}/refunds/{id}"}),updateRefund:Ce({method:"POST",fullPath:"/v1/application_fees/{fee}/refunds/{id}"})}),Hc=a.method,Wc=a.extend({retrieve:Hc({method:"GET",fullPath:"/v1/balance"})}),Rr=a.method,jc=a.extend({retrieve:Rr({method:"GET",fullPath:"/v1/balance_transactions/{id}"}),list:Rr({method:"GET",fullPath:"/v1/balance_transactions",methodType:"list"})}),Ie=a.method,zc=a.extend({create:Ie({method:"POST",fullPath:"/v1/charges"}),retrieve:Ie({method:"GET",fullPath:"/v1/charges/{charge}"}),update:Ie({method:"POST",fullPath:"/v1/charges/{charge}"}),list:Ie({method:"GET",fullPath:"/v1/charges",methodType:"list"}),capture:Ie({method:"POST",fullPath:"/v1/charges/{charge}/capture"}),search:Ie({method:"GET",fullPath:"/v1/charges/search",methodType:"search"})}),Cr=a.method,Kc=a.extend({retrieve:Cr({method:"GET",fullPath:"/v1/country_specs/{country}"}),list:Cr({method:"GET",fullPath:"/v1/country_specs",methodType:"list"})}),rt=a.method,Yc=a.extend({create:rt({method:"POST",fullPath:"/v1/coupons"}),retrieve:rt({method:"GET",fullPath:"/v1/coupons/{coupon}"}),update:rt({method:"POST",fullPath:"/v1/coupons/{coupon}"}),list:rt({method:"GET",fullPath:"/v1/coupons",methodType:"list"}),del:rt({method:"DELETE",fullPath:"/v1/coupons/{coupon}"})}),he=a.method,Jc=a.extend({create:he({method:"POST",fullPath:"/v1/credit_notes"}),retrieve:he({method:"GET",fullPath:"/v1/credit_notes/{id}"}),update:he({method:"POST",fullPath:"/v1/credit_notes/{id}"}),list:he({method:"GET",fullPath:"/v1/credit_notes",methodType:"list"}),listLineItems:he({method:"GET",fullPath:"/v1/credit_notes/{credit_note}/lines",methodType:"list"}),listPreviewLineItems:he({method:"GET",fullPath:"/v1/credit_notes/preview/lines",methodType:"list"}),preview:he({method:"GET",fullPath:"/v1/credit_notes/preview"}),voidCreditNote:he({method:"POST",fullPath:"/v1/credit_notes/{id}/void"})}),x=a.method,Qc=a.extend({create:x({method:"POST",fullPath:"/v1/customers"}),retrieve:x({method:"GET",fullPath:"/v1/customers/{customer}"}),update:x({method:"POST",fullPath:"/v1/customers/{customer}"}),list:x({method:"GET",fullPath:"/v1/customers",methodType:"list"}),del:x({method:"DELETE",fullPath:"/v1/customers/{customer}"}),createFundingInstructions:x({method:"POST",fullPath:"/v1/customers/{customer}/funding_instructions"}),createBalanceTransaction:x({method:"POST",fullPath:"/v1/customers/{customer}/balance_transactions"}),createSource:x({method:"POST",fullPath:"/v1/customers/{customer}/sources"}),createTaxId:x({method:"POST",fullPath:"/v1/customers/{customer}/tax_ids"}),deleteDiscount:x({method:"DELETE",fullPath:"/v1/customers/{customer}/discount"}),deleteSource:x({method:"DELETE",fullPath:"/v1/customers/{customer}/sources/{id}"}),deleteTaxId:x({method:"DELETE",fullPath:"/v1/customers/{customer}/tax_ids/{id}"}),listPaymentMethods:x({method:"GET",fullPath:"/v1/customers/{customer}/payment_methods",methodType:"list"}),listBalanceTransactions:x({method:"GET",fullPath:"/v1/customers/{customer}/balance_transactions",methodType:"list"}),listCashBalanceTransactions:x({method:"GET",fullPath:"/v1/customers/{customer}/cash_balance_transactions",methodType:"list"}),listSources:x({method:"GET",fullPath:"/v1/customers/{customer}/sources",methodType:"list"}),listTaxIds:x({method:"GET",fullPath:"/v1/customers/{customer}/tax_ids",methodType:"list"}),retrievePaymentMethod:x({method:"GET",fullPath:"/v1/customers/{customer}/payment_methods/{payment_method}"}),retrieveBalanceTransaction:x({method:"GET",fullPath:"/v1/customers/{customer}/balance_transactions/{transaction}"}),retrieveCashBalance:x({method:"GET",fullPath:"/v1/customers/{customer}/cash_balance"}),retrieveCashBalanceTransaction:x({method:"GET",fullPath:"/v1/customers/{customer}/cash_balance_transactions/{transaction}"}),retrieveSource:x({method:"GET",fullPath:"/v1/customers/{customer}/sources/{id}"}),retrieveTaxId:x({method:"GET",fullPath:"/v1/customers/{customer}/tax_ids/{id}"}),search:x({method:"GET",fullPath:"/v1/customers/search",methodType:"search"}),updateBalanceTransaction:x({method:"POST",fullPath:"/v1/customers/{customer}/balance_transactions/{transaction}"}),updateCashBalance:x({method:"POST",fullPath:"/v1/customers/{customer}/cash_balance"}),updateSource:x({method:"POST",fullPath:"/v1/customers/{customer}/sources/{id}"}),verifySource:x({method:"POST",fullPath:"/v1/customers/{customer}/sources/{id}/verify"})}),Ft=a.method,Xc=a.extend({retrieve:Ft({method:"GET",fullPath:"/v1/disputes/{dispute}"}),update:Ft({method:"POST",fullPath:"/v1/disputes/{dispute}"}),list:Ft({method:"GET",fullPath:"/v1/disputes",methodType:"list"}),close:Ft({method:"POST",fullPath:"/v1/disputes/{dispute}/close"})}),Ir=a.method,Zc=a.extend({create:Ir({method:"POST",fullPath:"/v1/ephemeral_keys",validator:(t,e)=>{if(!e.headers||!e.headers["Stripe-Version"])throw new Error("Passing apiVersion in a separate options hash is required to create an ephemeral key. See https://stripe.com/docs/api/versioning?lang=node")}}),del:Ir({method:"DELETE",fullPath:"/v1/ephemeral_keys/{key}"})}),Lr=a.method,eu=a.extend({retrieve:Lr({method:"GET",fullPath:"/v1/events/{id}"}),list:Lr({method:"GET",fullPath:"/v1/events",methodType:"list"})}),Fr=a.method,tu=a.extend({retrieve:Fr({method:"GET",fullPath:"/v1/exchange_rates/{rate_id}"}),list:Fr({method:"GET",fullPath:"/v1/exchange_rates",methodType:"list"})}),Mt=a.method,su=a.extend({create:Mt({method:"POST",fullPath:"/v1/file_links"}),retrieve:Mt({method:"GET",fullPath:"/v1/file_links/{link}"}),update:Mt({method:"POST",fullPath:"/v1/file_links/{link}"}),list:Mt({method:"GET",fullPath:"/v1/file_links",methodType:"list"})}),ru=(t,e,s)=>{const r=(Math.round(Math.random()*1e16)+Math.round(Math.random()*1e16)).toString();s["Content-Type"]=`multipart/form-data; boundary=${r}`;const n=new TextEncoder;let o=new Uint8Array(0);const l=n.encode(`\r
`);function i(d){const m=o,y=d instanceof Uint8Array?d:new Uint8Array(n.encode(d));o=new Uint8Array(m.length+y.length+2),o.set(m),o.set(y,m.length),o.set(l,o.length-2)}function u(d){return`"${d.replace(/"|"/g,"%22").replace(/\r\n|\r|\n/g," ")}"`}const c=Al(e);for(const d in c){const m=c[d];if(i(`--${r}`),Object.prototype.hasOwnProperty.call(m,"data")){const y=m;i(`Content-Disposition: form-data; name=${u(d)}; filename=${u(y.name||"blob")}`),i(`Content-Type: ${y.type||"application/octet-stream"}`),i(""),i(y.data)}else i(`Content-Disposition: form-data; name=${u(d)}`),i(""),i(m)}return i(`--${r}--`),o};function nu(t,e,s,r){if(e=e||{},t!=="POST")return r(null,Yt(e));this._stripe._platformFunctions.tryBufferData(e).then(n=>{const o=ru(t,n,s);return r(null,o)}).catch(n=>r(n,null))}const ys=a.method,ou=a.extend({create:ys({method:"POST",fullPath:"/v1/files",headers:{"Content-Type":"multipart/form-data"},host:"files.stripe.com"}),retrieve:ys({method:"GET",fullPath:"/v1/files/{file}"}),list:ys({method:"GET",fullPath:"/v1/files",methodType:"list"}),requestDataProcessor:nu}),nt=a.method,iu=a.extend({create:nt({method:"POST",fullPath:"/v1/invoiceitems"}),retrieve:nt({method:"GET",fullPath:"/v1/invoiceitems/{invoiceitem}"}),update:nt({method:"POST",fullPath:"/v1/invoiceitems/{invoiceitem}"}),list:nt({method:"GET",fullPath:"/v1/invoiceitems",methodType:"list"}),del:nt({method:"DELETE",fullPath:"/v1/invoiceitems/{invoiceitem}"})}),W=a.method,au=a.extend({create:W({method:"POST",fullPath:"/v1/invoices"}),retrieve:W({method:"GET",fullPath:"/v1/invoices/{invoice}"}),update:W({method:"POST",fullPath:"/v1/invoices/{invoice}"}),list:W({method:"GET",fullPath:"/v1/invoices",methodType:"list"}),del:W({method:"DELETE",fullPath:"/v1/invoices/{invoice}"}),finalizeInvoice:W({method:"POST",fullPath:"/v1/invoices/{invoice}/finalize"}),listLineItems:W({method:"GET",fullPath:"/v1/invoices/{invoice}/lines",methodType:"list"}),listUpcomingLines:W({method:"GET",fullPath:"/v1/invoices/upcoming/lines",methodType:"list"}),markUncollectible:W({method:"POST",fullPath:"/v1/invoices/{invoice}/mark_uncollectible"}),pay:W({method:"POST",fullPath:"/v1/invoices/{invoice}/pay"}),retrieveUpcoming:W({method:"GET",fullPath:"/v1/invoices/upcoming"}),search:W({method:"GET",fullPath:"/v1/invoices/search",methodType:"search"}),sendInvoice:W({method:"POST",fullPath:"/v1/invoices/{invoice}/send"}),voidInvoice:W({method:"POST",fullPath:"/v1/invoices/{invoice}/void"})}),lu=a.method,cu=a.extend({retrieve:lu({method:"GET",fullPath:"/v1/mandates/{mandate}"})}),Mr=a.method,_s="connect.stripe.com",uu=a.extend({basePath:"/",authorizeUrl(t,e){t=t||{},e=e||{};let s="oauth/authorize";return e.express&&(s=`express/${s}`),t.response_type||(t.response_type="code"),t.client_id||(t.client_id=this._stripe.getClientId()),t.scope||(t.scope="read_write"),`https://${_s}/${s}?${Yt(t)}`},token:Mr({method:"POST",path:"oauth/token",host:_s}),deauthorize(t,...e){return t.client_id||(t.client_id=this._stripe.getClientId()),Mr({method:"POST",path:"oauth/deauthorize",host:_s}).apply(this,[t,...e])}}),Q=a.method,hu=a.extend({create:Q({method:"POST",fullPath:"/v1/payment_intents"}),retrieve:Q({method:"GET",fullPath:"/v1/payment_intents/{intent}"}),update:Q({method:"POST",fullPath:"/v1/payment_intents/{intent}"}),list:Q({method:"GET",fullPath:"/v1/payment_intents",methodType:"list"}),applyCustomerBalance:Q({method:"POST",fullPath:"/v1/payment_intents/{intent}/apply_customer_balance"}),cancel:Q({method:"POST",fullPath:"/v1/payment_intents/{intent}/cancel"}),capture:Q({method:"POST",fullPath:"/v1/payment_intents/{intent}/capture"}),confirm:Q({method:"POST",fullPath:"/v1/payment_intents/{intent}/confirm"}),incrementAuthorization:Q({method:"POST",fullPath:"/v1/payment_intents/{intent}/increment_authorization"}),search:Q({method:"GET",fullPath:"/v1/payment_intents/search",methodType:"search"}),verifyMicrodeposits:Q({method:"POST",fullPath:"/v1/payment_intents/{intent}/verify_microdeposits"})}),ot=a.method,du=a.extend({create:ot({method:"POST",fullPath:"/v1/payment_links"}),retrieve:ot({method:"GET",fullPath:"/v1/payment_links/{payment_link}"}),update:ot({method:"POST",fullPath:"/v1/payment_links/{payment_link}"}),list:ot({method:"GET",fullPath:"/v1/payment_links",methodType:"list"}),listLineItems:ot({method:"GET",fullPath:"/v1/payment_links/{payment_link}/line_items",methodType:"list"})}),Le=a.method,pu=a.extend({create:Le({method:"POST",fullPath:"/v1/payment_methods"}),retrieve:Le({method:"GET",fullPath:"/v1/payment_methods/{payment_method}"}),update:Le({method:"POST",fullPath:"/v1/payment_methods/{payment_method}"}),list:Le({method:"GET",fullPath:"/v1/payment_methods",methodType:"list"}),attach:Le({method:"POST",fullPath:"/v1/payment_methods/{payment_method}/attach"}),detach:Le({method:"POST",fullPath:"/v1/payment_methods/{payment_method}/detach"})}),Fe=a.method,mu=a.extend({create:Fe({method:"POST",fullPath:"/v1/payouts"}),retrieve:Fe({method:"GET",fullPath:"/v1/payouts/{payout}"}),update:Fe({method:"POST",fullPath:"/v1/payouts/{payout}"}),list:Fe({method:"GET",fullPath:"/v1/payouts",methodType:"list"}),cancel:Fe({method:"POST",fullPath:"/v1/payouts/{payout}/cancel"}),reverse:Fe({method:"POST",fullPath:"/v1/payouts/{payout}/reverse"})}),it=a.method,fu=a.extend({create:it({method:"POST",fullPath:"/v1/plans"}),retrieve:it({method:"GET",fullPath:"/v1/plans/{plan}"}),update:it({method:"POST",fullPath:"/v1/plans/{plan}"}),list:it({method:"GET",fullPath:"/v1/plans",methodType:"list"}),del:it({method:"DELETE",fullPath:"/v1/plans/{plan}"})}),at=a.method,yu=a.extend({create:at({method:"POST",fullPath:"/v1/prices"}),retrieve:at({method:"GET",fullPath:"/v1/prices/{price}"}),update:at({method:"POST",fullPath:"/v1/prices/{price}"}),list:at({method:"GET",fullPath:"/v1/prices",methodType:"list"}),search:at({method:"GET",fullPath:"/v1/prices/search",methodType:"search"})}),Me=a.method,_u=a.extend({create:Me({method:"POST",fullPath:"/v1/products"}),retrieve:Me({method:"GET",fullPath:"/v1/products/{id}"}),update:Me({method:"POST",fullPath:"/v1/products/{id}"}),list:Me({method:"GET",fullPath:"/v1/products",methodType:"list"}),del:Me({method:"DELETE",fullPath:"/v1/products/{id}"}),search:Me({method:"GET",fullPath:"/v1/products/search",methodType:"search"})}),Nt=a.method,vu=a.extend({create:Nt({method:"POST",fullPath:"/v1/promotion_codes"}),retrieve:Nt({method:"GET",fullPath:"/v1/promotion_codes/{promotion_code}"}),update:Nt({method:"POST",fullPath:"/v1/promotion_codes/{promotion_code}"}),list:Nt({method:"GET",fullPath:"/v1/promotion_codes",methodType:"list"})}),se=a.method,gu=a.extend({create:se({method:"POST",fullPath:"/v1/quotes"}),retrieve:se({method:"GET",fullPath:"/v1/quotes/{quote}"}),update:se({method:"POST",fullPath:"/v1/quotes/{quote}"}),list:se({method:"GET",fullPath:"/v1/quotes",methodType:"list"}),accept:se({method:"POST",fullPath:"/v1/quotes/{quote}/accept"}),cancel:se({method:"POST",fullPath:"/v1/quotes/{quote}/cancel"}),finalizeQuote:se({method:"POST",fullPath:"/v1/quotes/{quote}/finalize"}),listComputedUpfrontLineItems:se({method:"GET",fullPath:"/v1/quotes/{quote}/computed_upfront_line_items",methodType:"list"}),listLineItems:se({method:"GET",fullPath:"/v1/quotes/{quote}/line_items",methodType:"list"}),pdf:se({method:"GET",fullPath:"/v1/quotes/{quote}/pdf",host:"files.stripe.com",streaming:!0})}),lt=a.method,Pu=a.extend({create:lt({method:"POST",fullPath:"/v1/refunds"}),retrieve:lt({method:"GET",fullPath:"/v1/refunds/{refund}"}),update:lt({method:"POST",fullPath:"/v1/refunds/{refund}"}),list:lt({method:"GET",fullPath:"/v1/refunds",methodType:"list"}),cancel:lt({method:"POST",fullPath:"/v1/refunds/{refund}/cancel"})}),vs=a.method,bu=a.extend({retrieve:vs({method:"GET",fullPath:"/v1/reviews/{review}"}),list:vs({method:"GET",fullPath:"/v1/reviews",methodType:"list"}),approve:vs({method:"POST",fullPath:"/v1/reviews/{review}/approve"})}),Tu=a.method,Su=a.extend({list:Tu({method:"GET",fullPath:"/v1/setup_attempts",methodType:"list"})}),_e=a.method,Eu=a.extend({create:_e({method:"POST",fullPath:"/v1/setup_intents"}),retrieve:_e({method:"GET",fullPath:"/v1/setup_intents/{intent}"}),update:_e({method:"POST",fullPath:"/v1/setup_intents/{intent}"}),list:_e({method:"GET",fullPath:"/v1/setup_intents",methodType:"list"}),cancel:_e({method:"POST",fullPath:"/v1/setup_intents/{intent}/cancel"}),confirm:_e({method:"POST",fullPath:"/v1/setup_intents/{intent}/confirm"}),verifyMicrodeposits:_e({method:"POST",fullPath:"/v1/setup_intents/{intent}/verify_microdeposits"})}),Dt=a.method,wu=a.extend({create:Dt({method:"POST",fullPath:"/v1/shipping_rates"}),retrieve:Dt({method:"GET",fullPath:"/v1/shipping_rates/{shipping_rate_token}"}),update:Dt({method:"POST",fullPath:"/v1/shipping_rates/{shipping_rate_token}"}),list:Dt({method:"GET",fullPath:"/v1/shipping_rates",methodType:"list"})}),ct=a.method,Ou=a.extend({create:ct({method:"POST",fullPath:"/v1/sources"}),retrieve:ct({method:"GET",fullPath:"/v1/sources/{source}"}),update:ct({method:"POST",fullPath:"/v1/sources/{source}"}),listSourceTransactions:ct({method:"GET",fullPath:"/v1/sources/{source}/source_transactions",methodType:"list"}),verify:ct({method:"POST",fullPath:"/v1/sources/{source}/verify"})}),ve=a.method,$u=a.extend({create:ve({method:"POST",fullPath:"/v1/subscription_items"}),retrieve:ve({method:"GET",fullPath:"/v1/subscription_items/{item}"}),update:ve({method:"POST",fullPath:"/v1/subscription_items/{item}"}),list:ve({method:"GET",fullPath:"/v1/subscription_items",methodType:"list"}),del:ve({method:"DELETE",fullPath:"/v1/subscription_items/{item}"}),createUsageRecord:ve({method:"POST",fullPath:"/v1/subscription_items/{subscription_item}/usage_records"}),listUsageRecordSummaries:ve({method:"GET",fullPath:"/v1/subscription_items/{subscription_item}/usage_record_summaries",methodType:"list"})}),Ne=a.method,Au=a.extend({create:Ne({method:"POST",fullPath:"/v1/subscription_schedules"}),retrieve:Ne({method:"GET",fullPath:"/v1/subscription_schedules/{schedule}"}),update:Ne({method:"POST",fullPath:"/v1/subscription_schedules/{schedule}"}),list:Ne({method:"GET",fullPath:"/v1/subscription_schedules",methodType:"list"}),cancel:Ne({method:"POST",fullPath:"/v1/subscription_schedules/{schedule}/cancel"}),release:Ne({method:"POST",fullPath:"/v1/subscription_schedules/{schedule}/release"})}),le=a.method,xu=a.extend({create:le({method:"POST",fullPath:"/v1/subscriptions"}),retrieve:le({method:"GET",fullPath:"/v1/subscriptions/{subscription_exposed_id}"}),update:le({method:"POST",fullPath:"/v1/subscriptions/{subscription_exposed_id}"}),list:le({method:"GET",fullPath:"/v1/subscriptions",methodType:"list"}),cancel:le({method:"DELETE",fullPath:"/v1/subscriptions/{subscription_exposed_id}"}),del:le({method:"DELETE",fullPath:"/v1/subscriptions/{subscription_exposed_id}"}),deleteDiscount:le({method:"DELETE",fullPath:"/v1/subscriptions/{subscription_exposed_id}/discount"}),resume:le({method:"POST",fullPath:"/v1/subscriptions/{subscription}/resume"}),search:le({method:"GET",fullPath:"/v1/subscriptions/search",methodType:"search"})}),Nr=a.method,ku=a.extend({retrieve:Nr({method:"GET",fullPath:"/v1/tax_codes/{id}"}),list:Nr({method:"GET",fullPath:"/v1/tax_codes",methodType:"list"})}),Gt=a.method,Ru=a.extend({create:Gt({method:"POST",fullPath:"/v1/tax_rates"}),retrieve:Gt({method:"GET",fullPath:"/v1/tax_rates/{tax_rate}"}),update:Gt({method:"POST",fullPath:"/v1/tax_rates/{tax_rate}"}),list:Gt({method:"GET",fullPath:"/v1/tax_rates",methodType:"list"})}),Dr=a.method,Cu=a.extend({create:Dr({method:"POST",fullPath:"/v1/tokens"}),retrieve:Dr({method:"GET",fullPath:"/v1/tokens/{token}"})}),ut=a.method,Iu=a.extend({create:ut({method:"POST",fullPath:"/v1/topups"}),retrieve:ut({method:"GET",fullPath:"/v1/topups/{topup}"}),update:ut({method:"POST",fullPath:"/v1/topups/{topup}"}),list:ut({method:"GET",fullPath:"/v1/topups",methodType:"list"}),cancel:ut({method:"POST",fullPath:"/v1/topups/{topup}/cancel"})}),de=a.method,Lu=a.extend({create:de({method:"POST",fullPath:"/v1/transfers"}),retrieve:de({method:"GET",fullPath:"/v1/transfers/{transfer}"}),update:de({method:"POST",fullPath:"/v1/transfers/{transfer}"}),list:de({method:"GET",fullPath:"/v1/transfers",methodType:"list"}),createReversal:de({method:"POST",fullPath:"/v1/transfers/{id}/reversals"}),listReversals:de({method:"GET",fullPath:"/v1/transfers/{id}/reversals",methodType:"list"}),retrieveReversal:de({method:"GET",fullPath:"/v1/transfers/{transfer}/reversals/{id}"}),updateReversal:de({method:"POST",fullPath:"/v1/transfers/{transfer}/reversals/{id}"})}),ht=a.method,Fu=a.extend({create:ht({method:"POST",fullPath:"/v1/webhook_endpoints"}),retrieve:ht({method:"GET",fullPath:"/v1/webhook_endpoints/{webhook_endpoint}"}),update:ht({method:"POST",fullPath:"/v1/webhook_endpoints/{webhook_endpoint}"}),list:ht({method:"GET",fullPath:"/v1/webhook_endpoints",methodType:"list"}),del:ht({method:"DELETE",fullPath:"/v1/webhook_endpoints/{webhook_endpoint}"})}),Mu=V("apps",{Secrets:wc}),Nu=V("billingPortal",{Configurations:zl,Sessions:$c}),Du=V("checkout",{Sessions:Ac}),Gu=V("financialConnections",{Accounts:Ul,Sessions:xc}),Vu=V("identity",{VerificationReports:Dc,VerificationSessions:Gc}),Uu=V("issuing",{Authorizations:ql,Cardholders:Hl,Cards:jl,Disputes:tc,Transactions:Ic}),qu=V("radar",{EarlyFraudWarnings:sc,ValueListItems:Mc,ValueLists:Nc}),Bu=V("reporting",{ReportRuns:Tc,ReportTypes:Sc}),Hu=V("sigma",{ScheduledQueryRuns:Ec}),Wu=V("tax",{Calculations:Bl,Settings:kc,Transactions:Lc}),ju=V("terminal",{Configurations:Kl,ConnectionTokens:Jl,Locations:ic,Readers:pc}),zu=V("testHelpers",{Customers:Zl,Refunds:bc,TestClocks:Rc,Issuing:V("issuing",{Cards:Wl}),Terminal:V("terminal",{Readers:dc}),Treasury:V("treasury",{InboundTransfers:nc,OutboundPayments:ac,OutboundTransfers:cc,ReceivedCredits:fc,ReceivedDebits:vc})}),Ku=V("treasury",{CreditReversals:Ql,DebitReversals:ec,FinancialAccounts:rc,InboundTransfers:oc,OutboundPayments:lc,OutboundTransfers:uc,ReceivedCredits:yc,ReceivedDebits:gc,TransactionEntries:Cc,Transactions:Fc}),gs=Object.freeze(Object.defineProperty({__proto__:null,Account:kr,AccountLinks:Uc,Accounts:kr,ApplePayDomains:qc,ApplicationFees:Bc,Apps:Mu,Balance:Wc,BalanceTransactions:jc,BillingPortal:Nu,Charges:zc,Checkout:Du,CountrySpecs:Kc,Coupons:Yc,CreditNotes:Jc,Customers:Qc,Disputes:Xc,EphemeralKeys:Zc,Events:eu,ExchangeRates:tu,FileLinks:su,Files:ou,FinancialConnections:Gu,Identity:Vu,InvoiceItems:iu,Invoices:au,Issuing:Uu,Mandates:cu,OAuth:uu,PaymentIntents:hu,PaymentLinks:du,PaymentMethods:pu,Payouts:mu,Plans:fu,Prices:yu,Products:_u,PromotionCodes:vu,Quotes:gu,Radar:qu,Refunds:Pu,Reporting:Bu,Reviews:bu,SetupAttempts:Su,SetupIntents:Eu,ShippingRates:wu,Sigma:Hu,Sources:Ou,SubscriptionItems:$u,SubscriptionSchedules:Au,Subscriptions:xu,Tax:Wu,TaxCodes:ku,TaxRates:Ru,Terminal:ju,TestHelpers:zu,Tokens:Cu,Topups:Iu,Transfers:Lu,Treasury:Ku,WebhookEndpoints:Fu},Symbol.toStringTag,{value:"Module"})),Yu=60;class vt{constructor(e,s){this._stripe=e,this._maxBufferedRequestMetric=s}_addHeadersDirectlyToObject(e,s){e.requestId=s["request-id"],e.stripeAccount=e.stripeAccount||s["stripe-account"],e.apiVersion=e.apiVersion||s["stripe-version"],e.idempotencyKey=e.idempotencyKey||s["idempotency-key"]}_makeResponseEvent(e,s,r){const n=Date.now(),o=n-e.request_start_time;return as({api_version:r["stripe-version"],account:r["stripe-account"],idempotency_key:r["idempotency-key"],method:e.method,path:e.path,status:s,request_id:this._getRequestId(r),elapsed:o,request_start_time:e.request_start_time,request_end_time:n})}_getRequestId(e){return e["request-id"]}_streamingResponseHandler(e,s){return r=>{const n=r.getHeaders(),o=()=>{const i=this._makeResponseEvent(e,r.getStatusCode(),n);this._stripe._emitter.emit("response",i),this._recordRequestMetrics(this._getRequestId(n),i.elapsed)},l=r.toStream(o);return this._addHeadersDirectlyToObject(l,n),s(null,l)}}_jsonResponseHandler(e,s){return r=>{const n=r.getHeaders(),o=this._getRequestId(n),l=r.getStatusCode(),i=this._makeResponseEvent(e,l,n);this._stripe._emitter.emit("response",i),r.toJSON().then(u=>{if(u.error){let c;throw typeof u.error=="string"&&(u.error={type:u.error,message:u.error_description}),u.error.headers=n,u.error.statusCode=l,u.error.requestId=o,l===401?c=new Ls(u.error):l===403?c=new sn(u.error):l===429?c=new Fs(u.error):c=H.generate(u.error),c}return u},u=>{throw new Is({message:"Invalid JSON received from the Stripe API",exception:u,requestId:n["request-id"]})}).then(u=>{this._recordRequestMetrics(o,i.elapsed);const c=r.getRawResponse();this._addHeadersDirectlyToObject(c,n),Object.defineProperty(u,"lastResponse",{enumerable:!1,writable:!1,value:c}),s(null,u)},u=>s(u,null))}}static _generateConnectionErrorMessage(e){return`An error occurred with our connection to Stripe.${e>0?` Request was retried ${e} times.`:""}`}static _shouldRetry(e,s,r,n){return n&&s===0&&ne.CONNECTION_CLOSED_ERROR_CODES.includes(n.code)?!0:s>=r?!1:e?e.getHeaders()["stripe-should-retry"]==="false"?!1:e.getHeaders()["stripe-should-retry"]==="true"||e.getStatusCode()===409||e.getStatusCode()>=500:!0}_getSleepTimeInMS(e,s=null){const r=this._stripe.getInitialNetworkRetryDelay(),n=this._stripe.getMaxNetworkRetryDelay();let o=Math.min(r*Math.pow(e-1,2),n);return o*=.5*(1+Math.random()),o=Math.max(r,o),Number.isInteger(s)&&s<=Yu&&(o=Math.max(o,s)),o*1e3}_getMaxNetworkRetries(e={}){return e.maxNetworkRetries&&Number.isInteger(e.maxNetworkRetries)?e.maxNetworkRetries:this._stripe.getMaxNetworkRetries()}_defaultIdempotencyKey(e,s){const r=this._getMaxNetworkRetries(s);return e==="POST"&&r>0?`stripe-node-retry-${this._stripe._platformFunctions.uuid4()}`:null}_makeHeaders(e,s,r,n,o,l,i){const u={Authorization:e?`Bearer ${e}`:this._stripe.getApiField("auth"),Accept:"application/json","Content-Type":"application/x-www-form-urlencoded","User-Agent":this._getUserAgentString(),"X-Stripe-Client-User-Agent":n,"X-Stripe-Client-Telemetry":this._getTelemetryHeader(),"Stripe-Version":r,"Stripe-Account":this._stripe.getApiField("stripeAccount"),"Idempotency-Key":this._defaultIdempotencyKey(o,i)},c=o=="POST"||o=="PUT"||o=="PATCH";return(c||s)&&(c||Wt(`${o} method had non-zero contentLength but no payload is expected for this verb`),u["Content-Length"]=s),Object.assign(as(u),El(l))}_getUserAgentString(){const e=this._stripe.getConstant("PACKAGE_VERSION"),s=this._stripe._appInfo?this._stripe.getAppInfoAsString():"";return`Stripe/v1 NodeBindings/${e} ${s}`.trim()}_getTelemetryHeader(){if(this._stripe.getTelemetryEnabled()&&this._stripe._prevRequestMetrics.length>0){const e=this._stripe._prevRequestMetrics.shift();return JSON.stringify({last_request_metrics:e})}}_recordRequestMetrics(e,s){this._stripe.getTelemetryEnabled()&&e&&(this._stripe._prevRequestMetrics.length>this._maxBufferedRequestMetric?Wt("Request metrics buffer is full, dropping telemetry message."):this._stripe._prevRequestMetrics.push({request_id:e,request_duration_ms:s}))}_request(e,s,r,n,o,l={},i,u=null){let c;const d=(p,v,b,P,g)=>setTimeout(p,this._getSleepTimeInMS(P,g),v,b,P+1),m=(p,v,b)=>{const P=l.settings&&l.settings.timeout&&Number.isInteger(l.settings.timeout)&&l.settings.timeout>=0?l.settings.timeout:this._stripe.getApiField("timeout"),g=this._stripe.getApiField("httpClient").makeRequest(s||this._stripe.getApiField("host"),this._stripe.getApiField("port"),r,e,v,c,this._stripe.getApiField("protocol"),P),k=Date.now(),R=as({api_version:p,account:v["Stripe-Account"],idempotency_key:v["Idempotency-Key"],method:e,path:r,request_start_time:k}),I=b||0,q=this._getMaxNetworkRetries(l.settings||{});this._stripe._emitter.emit("request",R),g.then(M=>vt._shouldRetry(M,I,q)?d(m,p,v,I,M.getHeaders()["retry-after"]):l.streaming&&M.getStatusCode()<400?this._streamingResponseHandler(R,i)(M):this._jsonResponseHandler(R,i)(M)).catch(M=>{if(vt._shouldRetry(null,I,q,M))return d(m,p,v,I,null);{const j=M.code&&M.code===ne.TIMEOUT_ERROR_CODE;return i(new rn({message:j?`Request aborted due to timeout being reached (${P}ms)`:vt._generateConnectionErrorMessage(I),detail:M}))}})},y=(p,v)=>{if(p)return i(p);c=v,this._stripe.getClientUserAgent(b=>{var P,g;const k=this._stripe.getApiField("version"),R=this._makeHeaders(o,c.length,k,b,e,(P=l.headers)!==null&&P!==void 0?P:null,(g=l.settings)!==null&&g!==void 0?g:{});m(k,R,0)})};u?u(e,n,l.headers,y):y(null,Yt(n||{}))}}function Gr(t){const e={DEFAULT_TOLERANCE:300,signature:null,constructEvent(c,d,m,y,p,v){try{this.signature.verifyHeader(c,d,m,y||e.DEFAULT_TOLERANCE,p,v)}catch(P){throw P instanceof Xr&&(P.message+="\nUse `await constructEventAsync(...)` instead of `constructEvent(...)`"),P}return c instanceof Uint8Array?JSON.parse(new TextDecoder("utf8").decode(c)):JSON.parse(c)},async constructEventAsync(c,d,m,y,p,v){return await this.signature.verifyHeaderAsync(c,d,m,y||e.DEFAULT_TOLERANCE,p,v),c instanceof Uint8Array?JSON.parse(new TextDecoder("utf8").decode(c)):JSON.parse(c)},generateTestHeaderString:function(c){if(!c)throw new H({message:"Options are required"});return c.timestamp=Math.floor(c.timestamp)||Math.floor(Date.now()/1e3),c.scheme=c.scheme||s.EXPECTED_SCHEME,c.cryptoProvider=c.cryptoProvider||u(),c.signature=c.signature||c.cryptoProvider.computeHMACSignature(c.timestamp+"."+c.payload,c.secret),["t="+c.timestamp,c.scheme+"="+c.signature].join(",")}},s={EXPECTED_SCHEME:"v1",verifyHeader(c,d,m,y,p,v){const{decodedHeader:b,decodedPayload:P,details:g,suspectPayloadType:k}=n(c,d,this.EXPECTED_SCHEME),R=/\s/.test(m);p=p||u();const I=p.computeHMACSignature(r(P,g),m);return o(P,b,g,I,y,k,R,v),!0},async verifyHeaderAsync(c,d,m,y,p,v){const{decodedHeader:b,decodedPayload:P,details:g,suspectPayloadType:k}=n(c,d,this.EXPECTED_SCHEME),R=/\s/.test(m);p=p||u();const I=await p.computeHMACSignatureAsync(r(P,g),m);return o(P,b,g,I,y,k,R,v)}};function r(c,d){return`${d.timestamp}.${c}`}function n(c,d,m){if(!c)throw new pe(d,c,{message:"No webhook payload was provided."});const y=typeof c!="string"&&!(c instanceof Uint8Array),p=new TextDecoder("utf8"),v=c instanceof Uint8Array?p.decode(c):c;if(Array.isArray(d))throw new Error("Unexpected: An array was passed as a header, which should not be possible for the stripe-signature header.");if(d==null||d=="")throw new pe(d,c,{message:"No stripe-signature header value was provided."});const b=d instanceof Uint8Array?p.decode(d):d,P=l(b,m);if(!P||P.timestamp===-1)throw new pe(b,v,{message:"Unable to extract timestamp and signatures from header"});if(!P.signatures.length)throw new pe(b,v,{message:"No signatures found with expected scheme"});return{decodedPayload:v,decodedHeader:b,details:P,suspectPayloadType:y}}function o(c,d,m,y,p,v,b,P){const g=!!m.signatures.filter(t.secureCompare.bind(t,y)).length,k=`
Learn more about webhook signing and explore webhook integration examples for various frameworks at https://github.com/stripe/stripe-node#webhook-signing`,R=b?`

Note: The provided signing secret contains whitespace. This often indicates an extra newline or space is in the value`:"";if(!g)throw v?new pe(d,c,{message:`Webhook payload must be provided as a string or a Buffer (https://nodejs.org/api/buffer.html) instance representing the _raw_ request body.Payload was provided as a parsed JavaScript object instead. 
Signature verification is impossible without access to the original signed material. 
`+k+`
`+R}):new pe(d,c,{message:`No signatures found matching the expected signature for payload. Are you passing the raw request body you received from Stripe? 
`+k+`
`+R});const I=Math.floor((typeof P=="number"?P:Date.now())/1e3)-m.timestamp;if(p>0&&I>p)throw new pe(d,c,{message:"Timestamp outside the tolerance zone"});return!0}function l(c,d){return typeof c!="string"?null:c.split(",").reduce((m,y)=>{const p=y.split("=");return p[0]==="t"&&(m.timestamp=parseInt(p[1],10)),p[0]===d&&m.signatures.push(p[1]),m},{timestamp:-1,signatures:[]})}let i=null;function u(){return i||(i=t.createDefaultCryptoProvider()),i}return e.signature=s,e}const Vr="api.stripe.com",Ur="443",qr="/v1/",Br=Ei,Hr=8e4,Wr=2,jr=.5,Ju=["name","version","url","partner_id"],zr=["apiVersion","typescript","maxNetworkRetries","httpAgent","httpClient","timeout","host","port","protocol","telemetry","appInfo","stripeAccount"],Qu=t=>new vt(t,a.MAX_BUFFERED_REQUEST_METRICS);function Xu(t,e=Qu){s.PACKAGE_VERSION="12.18.0",s.USER_AGENT=Object.assign({bindings_version:s.PACKAGE_VERSION,lang:"node",publisher:"stripe",uname:null,typescript:!1},xl()),s.StripeResource=a,s.resources=gs,s.HttpClient=ne,s.HttpClientResponse=Jr,s.CryptoProvider=Qr;function s(r,n={}){if(!(this instanceof s))return new s(r,n);const o=this._getPropsFromConfig(n);if(this._platformFunctions=t,Object.defineProperty(this,"_emitter",{value:this._platformFunctions.createEmitter(),enumerable:!1,configurable:!1,writable:!1}),this.VERSION=s.PACKAGE_VERSION,this.on=this._emitter.on.bind(this._emitter),this.once=this._emitter.once.bind(this._emitter),this.off=this._emitter.removeListener.bind(this._emitter),o.protocol&&o.protocol!=="https"&&(!o.host||/\.stripe\.com$/.test(o.host)))throw new Error("The `https` protocol must be used when sending requests to `*.stripe.com`");const l=o.httpAgent||null;this._api={auth:null,host:o.host||Vr,port:o.port||Ur,protocol:o.protocol||"https",basePath:qr,version:o.apiVersion||Br,timeout:ls("timeout",o.timeout,Hr),maxNetworkRetries:ls("maxNetworkRetries",o.maxNetworkRetries,0),agent:l,httpClient:o.httpClient||(l?this._platformFunctions.createNodeHttpClient(l):this._platformFunctions.createDefaultHttpClient()),dev:!1,stripeAccount:o.stripeAccount||null};const i=o.typescript||!1;i!==s.USER_AGENT.typescript&&(s.USER_AGENT.typescript=i),o.appInfo&&this._setAppInfo(o.appInfo),this._prepResources(),this._setApiKey(r),this.errors=Zs,this.webhooks=Gr(t),this._prevRequestMetrics=[],this._enableTelemetry=o.telemetry!==!1,this._requestSender=e(this),this.StripeResource=s.StripeResource}return s.errors=Zs,s.webhooks=Gr,s.createNodeHttpClient=t.createNodeHttpClient,s.createFetchHttpClient=t.createFetchHttpClient,s.createNodeCryptoProvider=t.createNodeCryptoProvider,s.createSubtleCryptoProvider=t.createSubtleCryptoProvider,s.prototype={_appInfo:void 0,on:null,off:null,once:null,VERSION:null,StripeResource:null,webhooks:null,errors:null,_api:null,_prevRequestMetrics:null,_emitter:null,_enableTelemetry:null,_requestSender:null,_platformFunctions:null,_setApiKey(r){r&&this._setApiField("auth",`Bearer ${r}`)},_setAppInfo(r){if(r&&typeof r!="object")throw new Error("AppInfo must be an object.");if(r&&!r.name)throw new Error("AppInfo.name is required");r=r||{},this._appInfo=Ju.reduce((n,o)=>(typeof r[o]=="string"&&(n=n||{},n[o]=r[o]),n),void 0)},_setApiField(r,n){this._api[r]=n},getApiField(r){return this._api[r]},setClientId(r){this._clientId=r},getClientId(){return this._clientId},getConstant:r=>{switch(r){case"DEFAULT_HOST":return Vr;case"DEFAULT_PORT":return Ur;case"DEFAULT_BASE_PATH":return qr;case"DEFAULT_API_VERSION":return Br;case"DEFAULT_TIMEOUT":return Hr;case"MAX_NETWORK_RETRY_DELAY_SEC":return Wr;case"INITIAL_NETWORK_RETRY_DELAY_SEC":return jr}return s[r]},getMaxNetworkRetries(){return this.getApiField("maxNetworkRetries")},_setApiNumberField(r,n,o){const l=ls(r,n,o);this._setApiField(r,l)},getMaxNetworkRetryDelay(){return Wr},getInitialNetworkRetryDelay(){return jr},getClientUserAgent(r){return this.getClientUserAgentSeeded(s.USER_AGENT,r)},getClientUserAgentSeeded(r,n){this._platformFunctions.getUname().then(o=>{var l;const i={};for(const c in r)i[c]=encodeURIComponent((l=r[c])!==null&&l!==void 0?l:"null");i.uname=encodeURIComponent(o||"UNKNOWN");const u=this.getApiField("httpClient");u&&(i.httplib=encodeURIComponent(u.getClientName())),this._appInfo&&(i.application=this._appInfo),n(JSON.stringify(i))})},getAppInfoAsString(){if(!this._appInfo)return"";let r=this._appInfo.name;return this._appInfo.version&&(r+=`/${this._appInfo.version}`),this._appInfo.url&&(r+=` (${this._appInfo.url})`),r},getTelemetryEnabled(){return this._enableTelemetry},_prepResources(){for(const r in gs)this[Ol(r)]=new gs[r](this)},_getPropsFromConfig(r){if(!r)return{};const n=typeof r=="string";if(!(r===Object(r)&&!Array.isArray(r))&&!n)throw new Error("Config must either be an object or a string");if(n)return{apiVersion:r};if(Object.keys(r).filter(i=>!zr.includes(i)).length>0)throw new Error(`Config object may only contain the following: ${zr.join(", ")}`);return r}},s}const Zu=Xu(new Si),eh="/wp-content/themes/player-key/dist/logo-stripe.30f32c21.svg";const th={name:"Athletes",components:{ErrorList:ks,FormItemFile:_i,FormItemText:zt,Heading:He,Loader:Te,vSelect:di},data(){return{action:"",cost:0,coupon:"",couponResponse:{success:null,message:null},currentEntity:null,editAthleteId:null,entities:null,entitiesWithoutTeam:null,errors:[],filePreview:"",form:{headshotFileName:"",firstName:"",lastName:"",team:"",parent:"",birthday:"",currentGrade:"",cardFileName:"",certificateFileName:"",socialLink:""},isLoading:!1,isSubmitting:!1,isLayoutVisible:!1,isFormValid:!1,isSearch:!1,parents:[],paidAthlete:null,teams:[]}},computed:{filteredEntities(){return this.isSearch?this.entitiesWithoutTeam:this.entities}},watch:{form:{handler(){this.errors=[],this.isFormValid=this.isRequiredFieldsFiled()},deep:!0}},methods:{closeLayout(){this.isLayoutVisible=!1,this.form.headshotFileName="",this.form.firstName="",this.form.lastName="",this.form.birthday="",this.form.currentGrade="",this.form.socialLink="",this.$store.state.authentication.currentRole==="coach"&&(this.form.parent="",this.form.team=""),this.$store.state.authentication.currentRole==="parent"&&(this.form.cardFileName="",this.form.certificateFileName="")},edit(t){this.action="Edit",this.isLayoutVisible=!0,this.form.headshotFileName=t.headshot_file_name,this.form.firstName=t.first_name,this.form.lastName=t.last_name,this.form.team={label:t.team?t.team.post_title:"No Team",code:t.team?t.team.ID:null},this.form.parent={label:t.parent_name,code:t.parent.ID},this.form.cardFileName=t.card_file_name,this.form.certificateFileName=t.certificate_file_name,this.editAthleteId=t.ID;let e=new Date(t.birthday);this.form.birthday=`${e.getFullYear()}-${e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1}-${e.getDate()<10?"0"+e.getDate():e.getDate()}`,this.form.currentGrade=t.current_grade,this.form.socialLink=t.social_link},async fetchData(){await $e.getAthletes({token:this.$store.state.authentication.token,currentRole:this.$store.state.authentication.currentRole}).then(t=>{t.data.success?this.entities=t.data.data:this.entities=[]}),this.$store.state.authentication.currentRole==="coach"&&await $e.getAthletesWithoutTeam({token:this.$store.state.authentication.token,currentRole:this.$store.state.authentication.currentRole}).then(t=>{t.data.success?this.entitiesWithoutTeam=t.data.data:this.entitiesWithoutTeam=[]})},async formSubmit(){this.isSubmitting=!0;const t=new FormData;t.append("entityType","athlete"),t.append("token",this.$store.state.authentication.token),t.append("athleteId",this.editAthleteId),t.append("currentRole",this.$store.state.authentication.currentRole),this.$store.state.authentication.currentRole==="parent"&&(t.append("card",this.form.card),t.append("certificate",this.form.certificate)),this.form.headshotFileName&&t.append("headshot",this.form.headshot);for(let e in this.form)t.append(e,this.form[e]);t.set("team",this.form.team.code),t.set("parent",this.form.parent.code),this.action==="Add"?await $e.createAthlete(t).then(this.onFormSubmit):this.action==="Edit"&&await $e.editAthlete(t).then(this.onFormSubmit)},async getCost(){await De.getCost().then(t=>{t.data.success&&(this.cost=parseFloat(t.data.data))})},async getTeams(){await dt.getTeams({token:this.$store.state.authentication.token,currentRole:this.$store.state.authentication.currentRole}).then(t=>{t.data.success&&t.data.data.length?this.teams=t.data.data.map(e=>({label:e.title,code:e.ID})):this.errors.push("No Team exists. You cannot add an athlete without a Team.")})},async getParents(){await pt.getParents({token:this.$store.state.authentication.token}).then(t=>{t.data.success&&t.data.data.length?this.parents=t.data.data.map(e=>({label:`${e.first_name} ${e.last_name}`,code:e.ID})):this.$store.state.authentication.currentRole==="coach"?this.errors.push("No Parents exists. You cannot add an athlete without a Parents."):this.$store.state.authentication.currentRole==="parent"&&this.parents.push({label:this.$store.state.authentication.currentUser.display_name,code:this.$store.state.authentication.currentUser.ID})})},isRequiredFieldsFiled(){const t={coach:["firstName","lastName","currentGrade","parent","birthday"],parent:["headshot","firstName","lastName","currentGrade","parent","birthday","cardFileName","certificateFileName"]};let e=!0;return t[this.$store.state.authentication.currentRole].forEach(s=>{this.form[s]===""&&(e=!1)}),e},onFormSubmit(t){t.data.success?(this.entities=t.data.data,this.form={firstName:"",lastName:"",team:"",parent:this.$store.state.authentication.currentRole==="coach"?"":this.form.parent,birthday:"",currentGrade:"",socialLink:"",headshotFileName:"",cardFileName:"",certificateFileName:""},this.isLayoutVisible=!1,this.isFormValid=!1):this.errors.push(t.data.data),this.isSubmitting=!1,this.isSearch=!1},async remove(t){this.isLoading=!0,await $e.removeAthlete({token:this.$store.state.authentication.token,athleteId:t}).then(e=>{e.data.success&&(this.entities=this.entities.filter(s=>s.ID!==t)),this.isLoading=!1})},async pay(){await De.getPaymentToken({token:this.$store.state.authentication.token,athleteId:this.paidAthlete.ID}).then(async t=>{if(t.data.success){const{payment_token:e,payment_id:s,secret_key:r}=t.data.data,o=await new Zu(r).checkout.sessions.create({mode:"payment",payment_method_types:["card"],line_items:[{price_data:{product_data:{name:`${this.paidAthlete.first_name} ${this.paidAthlete.last_name}`},unit_amount:this.cost*100,currency:"usd"},quantity:1}],success_url:`${window.location.origin}${this.$route.path}/?token=${e}&payment_id=${s}`,cancel_url:`${window.location.origin}${this.$route.path}/?payment_id=${s}&cancellation_token=aB03Eckqbnwdfqwe233214mwAMomfMewe332`});window.location.href=o.url}})},async setupPayment(t){this.action="Pay for an ",this.isLayoutVisible=!0,this.paidAthlete=t},uploadCard(t){this.form.card=t,this.form.cardFileName=t.name},uploadCertificate(t){this.form.certificate=t,this.form.certificateFileName=t.name},uploadHeadshot(t){this.form.headshot=t,this.form.headshotFileName=t.name},async useCoupon(){this.isSubmitting=!0,this.couponResponse.success=null,this.couponResponse.message=null,await De.useCoupon({coupon:this.coupon,token:this.$store.state.authentication.token}).then(t=>{t.data.success?(this.cost=t.data.data,this.couponResponse.success=!0,this.isSubmitting=!1):(this.couponResponse.success=!1,this.couponResponse.message=t.data.data,this.isSubmitting=!1)}).catch(t=>{this.couponResponse.success=!1,this.couponResponse.message=t.response.data.data,this.isSubmitting=!1})},viewAthlete(t){this.$router.push({name:"athlete",params:{slug:t}})}},mounted(){this.fetchData(),this.$store.state.authentication.currentRole==="parent"&&(this.form.parent={label:this.$store.state.authentication.currentUser.display_name,code:this.$store.state.authentication.currentUser.ID}),this.$store.state.authentication.athleteToken!==null&&$e.getAthleteBy({field:"token",token:this.$store.state.authentication.token,athlete_token:this.$store.state.authentication.athleteToken}).then(t=>{t.data.success&&(this.edit(t.data.data),this.$store.commit("resetAthleteForEdit"))}),this.$route.query.token&&this.$route.query.payment_id&&De.checkPayment({payment_token:this.$route.query.token,payment_id:this.$route.query.payment_id,token:this.$store.state.authentication.token}).then(t=>{t.data.success&&this.fetchData()}),this.$route.query.cancellation_token&&this.$route.query.cancellation_token==="aB03Eckqbnwdfqwe233214mwAMomfMewe332"&&this.$route.query.payment_id&&De.cancelPayment({token:this.$store.state.authentication.token,cancellationToken:this.$route.query.cancellation_token,payment_id:this.$route.query.payment_id}).then(t=>{t.data.success&&this.fetchData()}),this.getTeams(),this.getParents(),this.getCost()}},sh={class:"entities"},rh=h("svg",{viewBox:"0 0 50 50"},[h("path",{d:"M 7.71875 6.28125 L 6.28125 7.71875 L 23.5625 25 L 6.28125 42.28125 L 7.71875 43.71875 L 25 26.4375 L 42.28125 43.71875 L 43.71875 42.28125 L 26.4375 25 L 43.71875 7.71875 L 42.28125 6.28125 L 25 23.5625 Z"})],-1),nh=[rh],oh={class:"entities__layout-inner"},ih={class:"form-item-file"},ah={class:"form__label"},lh={key:0},ch={key:0,class:"form-item-select"},uh=h("span",{class:"form__label"},"Team",-1),hh={class:"form-item-select"},dh=h("span",{class:"form__label"},[A("Parent "),h("sup",null,"*")],-1),ph={key:1,class:"form-item-file"},mh=h("span",{class:"form__label"},[A("Report Card "),h("sup",null,"*")],-1),fh={key:2,class:"form-item-file"},yh=h("span",{class:"form__label"},[A("Birth certificate/ID "),h("sup",null,"*")],-1),_h={class:"form__actions"},vh=["disabled"],gh={key:0,class:"form__actions-note"},Ph=h("sup",null,"(*)",-1),bh={key:2,class:"payment-info"},Th={class:"payment-info__caption"},Sh=h("img",{src:eh,class:"payment-info__stripe-logo",alt:"Stripe"},null,-1),Eh={class:"payment-info__discount"},wh=h("span",{class:"payment-info__discount-note"},"Do you have a discount coupon?",-1),Oh={class:"payment-info__discount-form"},$h={class:"wrapper entities__wrapper"},Ah={class:"entities__actions"},xh={key:0,class:"entities__list-holder"},kh={class:"entities__list"},Rh=jt('<li class="entities__item entities__item--athlete"><span class="entities__cell">#</span><span class="entities__cell">Athlete</span><span class="entities__cell">Team</span><span class="entities__cell">Parent</span><span class="entities__cell entities__cell--status">Verified Status</span><span class="entities__cell entities__cell--status">Payment status</span><span class="entities__cell">Actions</span></li>',1),Ch=["id","onClick"],Ih={class:"entities__cell"},Lh={class:"entities__cell"},Fh={class:"entities__cell"},Mh={class:"entities__cell"},Nh={class:"entities__cell entities__cell--actions"},Dh=["onClick"],Gh=["onClick"],Vh=["onClick"],Uh={key:1},qh={key:2};function Bh(t,e,s,r,n,o){const l=w("Loader"),i=w("Heading"),u=w("ErrorList"),c=w("FormItemFile"),d=w("FormItemText"),m=w("vSelect"),y=w("Button");return f(),_(F,null,[T(l,{class:$({active:n.entities===null||n.isLoading})},null,8,["class"]),T(i,{level:1},{default:B(()=>[A("Athletes")]),_:1}),h("div",sh,[h("div",{class:$(["entities__layout",{active:n.isLayoutVisible}])},[T(l,{class:$({active:n.isSubmitting})},null,8,["class"]),h("button",{class:"entities__close-button",onClick:e[0]||(e[0]=(...p)=>o.closeLayout&&o.closeLayout(...p))},nh),h("div",oh,[T(i,{level:2},{default:B(()=>[A(S(n.action)+" Athlete",1)]),_:1}),n.errors.length?(f(),L(u,{key:0,errors:n.errors},null,8,["errors"])):E("",!0),n.teams.length>0&&(n.action==="Edit"||n.action==="Add")?(f(),_("form",{key:1,onSubmit:e[8]||(e[8]=X((...p)=>o.formSubmit&&o.formSubmit(...p),["prevent"]))},[h("div",ih,[h("span",ah,[A("Headshot "),this.$store.state.authentication.currentRole==="parent"?(f(),_("sup",lh,"*")):E("",!0)]),T(c,{onFileUpdated:o.uploadHeadshot,"input-id":"headshot","file-title":"Headshot","file-name":this.form.headshotFileName,required:this.$store.state.authentication.currentRole==="parent"},null,8,["onFileUpdated","file-name","required"])]),T(d,{name:"first-name",label:"First Name","input-type":"text","is-required":!0,modelValue:n.form.firstName,"onUpdate:modelValue":e[1]||(e[1]=p=>n.form.firstName=p)},null,8,["modelValue"]),T(d,{name:"last-name",label:"Last Name","input-type":"text","is-required":!0,modelValue:n.form.lastName,"onUpdate:modelValue":e[2]||(e[2]=p=>n.form.lastName=p)},null,8,["modelValue"]),T(d,{name:"birthday",label:"Birthday","input-type":"date","is-required":!0,modelValue:n.form.birthday,"onUpdate:modelValue":e[3]||(e[3]=p=>n.form.birthday=p)},null,8,["modelValue"]),T(d,{name:"current-grade",label:"Current grade","input-type":"text","is-required":!0,modelValue:n.form.currentGrade,"onUpdate:modelValue":e[4]||(e[4]=p=>n.form.currentGrade=p)},null,8,["modelValue"]),this.$store.state.authentication.currentRole==="coach"?(f(),_("label",ch,[uh,T(m,{options:n.teams,modelValue:n.form.team,"onUpdate:modelValue":e[5]||(e[5]=p=>n.form.team=p),class:$("form-item-select__field")},null,8,["options","modelValue"])])):E("",!0),h("label",hh,[dh,T(m,{options:n.parents,modelValue:n.form.parent,"onUpdate:modelValue":e[6]||(e[6]=p=>n.form.parent=p),class:$("form-item-select__field"),required:!0,disabled:this.$store.state.authentication.currentRole==="parent"},null,8,["options","modelValue","disabled"])]),this.$store.state.authentication.currentRole==="parent"?(f(),_("div",ph,[mh,T(c,{onFileUpdated:o.uploadCard,"input-id":"report-card","file-title":"Card","file-name":this.form.cardFileName,required:!0},null,8,["onFileUpdated","file-name"])])):E("",!0),this.$store.state.authentication.currentRole==="parent"?(f(),_("div",fh,[yh,T(c,{onFileUpdated:o.uploadCertificate,"input-id":"certificate","file-title":"Certificate/ID","file-name":this.form.certificateFileName,required:!0},null,8,["onFileUpdated","file-name"])])):E("",!0),T(d,{name:"social-link",label:"Social link","input-type":"text","is-required":!1,modelValue:n.form.socialLink,"onUpdate:modelValue":e[7]||(e[7]=p=>n.form.socialLink=p)},null,8,["modelValue"]),h("div",_h,[h("button",{type:"submit",class:"button button--lime",disabled:!n.isFormValid},"Submit",8,vh),n.isFormValid?E("",!0):(f(),_("span",gh,[A("Please fill in all required "),Ph,A(" fields")]))])],32)):E("",!0),n.action==="Pay for an "?(f(),_("div",bh,[h("p",Th,[A("Pay "),h("strong",null,"$"+S(n.cost),1),A(" through "),Sh]),h("button",{class:"button button--lime",onClick:e[9]||(e[9]=(...p)=>o.pay&&o.pay(...p))},"Pay"),h("div",Eh,[wh,h("div",Oh,[mt(h("input",{type:"text","onUpdate:modelValue":e[10]||(e[10]=p=>n.coupon=p),class:$(["payment-info__discount-input",{success:n.couponResponse.success,error:n.couponResponse.success===!1}])},null,2),[[Cn,n.coupon]]),h("button",{class:"button button--black payment-info__discount-cta",onClick:e[11]||(e[11]=(...p)=>o.useCoupon&&o.useCoupon(...p))},"Use coupon"),n.couponResponse.success!==null?(f(),_("p",{key:0,class:$(["payment-info__discount-response",{success:n.couponResponse.success,error:!n.couponResponse.success}])},S(n.couponResponse.message||"Discount successfully applied!"),3)):E("",!0)])])])):E("",!0)])],2),h("div",$h,[h("div",Ah,[h("button",{type:"button",class:"button button--lime",onClick:e[12]||(e[12]=p=>{n.isLayoutVisible=!0,n.action="Add"})}," Add Athlete "),this.$store.state.authentication.currentRole==="coach"?(f(),L(y,{key:0,onClick:e[13]||(e[13]=p=>n.isSearch=!n.isSearch),type:"button",class:"button button--lime"},{default:B(()=>[A(S(n.isSearch?"Close":"Search for Athlete"),1)]),_:1})):E("",!0)]),o.filteredEntities!==null&&o.filteredEntities.length>0?(f(),_("div",xh,[h("ul",kh,[Rh,(f(!0),_(F,null,z(o.filteredEntities,(p,v)=>(f(),_("li",{key:p.ID,id:p.ID,class:"entities__item entities__item--athlete",onClick:b=>o.viewAthlete(p.slug)},[h("span",Ih,S(v+1)+".",1),h("span",Lh,S(p.first_name)+" "+S(p.last_name),1),h("span",Fh,S(p.team?p.team.post_title:"No Team"),1),h("span",Mh,S(p.parent_name),1),h("span",{class:$(["entities__cell entities__cell-status",`entities__cell-status--${p.status}`])},S(p.status),3),h("span",{class:$(["entities__cell entities__cell-status",`entities__cell-status--${p.payment_status}`])},S(p.payment_status),3),h("span",Nh,[p.payment_status==="unpaid"&&p.status==="pending"?(f(),_("button",{key:0,type:"button",class:"entities__action",onClick:X(b=>o.setupPayment(p),["stop"])},"Pay",8,Dh)):E("",!0),h("button",{type:"button",class:"entities__action",onClick:X(b=>o.edit(p),["stop"])},"Edit",8,Gh),h("button",{type:"button",class:"entities__action",onClick:X(b=>o.remove(p.ID),["stop"])},"Remove",8,Vh)])],8,Ch))),128))])])):n.entities!==null&&n.entities.length===0?(f(),_("p",Uh,"You don't have associated athletes yet")):n.isSearch&&n.entitiesWithoutTeam!==null&&n.entitiesWithoutTeam.length===0?(f(),_("p",qh,"No Athletes found")):E("",!0)])])],64)}const Hh=oe(th,[["render",Bh]]),Wh={name:"Parents",components:{MessageList:xs,Loader:Te,ErrorList:ks,FormItemText:zt,Heading:He},data(){return{action:"",editParentId:null,entities:null,errors:[],form:{firstName:"",lastName:"",email:"",socialLink:""},isLoading:!1,isLayoutVisible:!1,isSubmitting:!1,isFormValid:!1,messages:[]}},watch:{form:{handler(){this.errors=[],this.isFormValid=this.isRequiredFieldsFiled()},deep:!0}},methods:{closeLayout(){this.isLayoutVisible=!1,this.form={firstName:"",lastName:"",email:"",socialLink:""}},edit(t){this.action="Edit",this.isLayoutVisible=!0,this.form.firstName=t.first_name,this.form.lastName=t.last_name,this.form.email=t.email,this.form.socialLink=t.social_link,this.editParentId=t.ID,this.isFormValid=!0},async fetchData(){await pt.getParents({token:this.$store.state.authentication.token}).then(t=>{t.data.success?this.entities=t.data.data:this.entities=[]})},async formSubmit(){this.isSubmitting=!0,this.action==="Add"?await pt.createParent({token:this.$store.state.authentication.token,form:this.form}).then(this.onFormSubmit):this.action==="Edit"&&await pt.editParent({token:this.$store.state.authentication.token,parentId:this.editParentId,form:this.form}).then(this.onFormSubmit)},isRequiredFieldsFiled(){const t={firstName:"",lastName:"",email:""};let e=!0;for(let s in t)this.form[s]===""&&(e=!1);return e},onFormSubmit(t){t.data.success?(this.entities=t.data.data,this.form={firstName:"",lastName:"",email:"",socialLink:""},this.isLayoutVisible=!1,this.isFormValid=!1):this.errors.push(t.data.data),this.isSubmitting=!1},async resend(t){this.isLoading=!0,await Ps.resendActivationLink({token:this.$store.state.authentication.token,parentId:t}).then(e=>{e.data.success&&(this.messages.push("The link to activate the account has been successfully sent."),this.entities=e.data.data,setTimeout(()=>{this.messages=[]},1e4)),this.isLoading=!1})},async remove(t){this.isLoading=!0,await pt.removeParent({token:this.$store.state.authentication.token,parentId:t}).then(e=>{e.data.success&&(this.entities=this.entities.filter(s=>s.ID!==t)),this.isLoading=!1})}},mounted(){this.fetchData()}},jh={class:"entities"},zh=h("svg",{viewBox:"0 0 50 50"},[h("path",{d:"M 7.71875 6.28125 L 6.28125 7.71875 L 23.5625 25 L 6.28125 42.28125 L 7.71875 43.71875 L 25 26.4375 L 42.28125 43.71875 L 43.71875 42.28125 L 26.4375 25 L 43.71875 7.71875 L 42.28125 6.28125 L 25 23.5625 Z"})],-1),Kh=[zh],Yh={class:"entities__layout-inner"},Jh={class:"form__actions"},Qh=["disabled"],Xh={key:0,class:"form__actions-note"},Zh=h("sup",null,"(*)",-1),ed={class:"wrapper entities__wrapper"},td={class:"entities__actions"},sd={key:1,class:"entities__list-holder"},rd={class:"entities__list"},nd=jt('<li class="entities__item entities__item--parent"><span class="entities__cell">#</span><span class="entities__cell">Name</span><span class="entities__cell">Athletes</span><span class="entities__cell">Is Activated</span><span class="entities__cell">Actions</span></li>',1),od={class:"entities__cell"},id={class:"entities__cell"},ad={class:"entities__cell"},ld={class:"entities__cell"},cd={key:0,class:"entities__cell-indicator entities__cell-indicator--true"},ud={key:1,class:"entities__cell-indicator entities__cell-indicator--false"},hd={key:2,class:"entities__cell-indicator entities__cell-indicator--expired"},dd={class:"entities__cell entities__cell--actions"},pd=["onClick"],md=["onClick"],fd=["onClick"],yd={key:2};function _d(t,e,s,r,n,o){const l=w("Loader"),i=w("Heading"),u=w("ErrorList"),c=w("FormItemText"),d=w("MessageList");return f(),_(F,null,[T(l,{class:$({active:n.entities===null||n.isLoading})},null,8,["class"]),T(i,{level:1},{default:B(()=>[A("Parents")]),_:1}),h("div",jh,[h("div",{class:$(["entities__layout",{active:n.isLayoutVisible}])},[T(l,{class:$({active:n.isSubmitting})},null,8,["class"]),h("button",{class:"entities__close-button",onClick:e[0]||(e[0]=(...m)=>o.closeLayout&&o.closeLayout(...m))},Kh),h("div",Yh,[T(i,{level:2},{default:B(()=>[A(S(n.action)+" Parent",1)]),_:1}),n.errors.length?(f(),L(u,{key:0,errors:n.errors},null,8,["errors"])):E("",!0),h("form",{onSubmit:e[5]||(e[5]=X((...m)=>o.formSubmit&&o.formSubmit(...m),["prevent"]))},[T(c,{name:"first-name",label:"First Name","input-type":"text","is-required":!0,modelValue:n.form.firstName,"onUpdate:modelValue":e[1]||(e[1]=m=>n.form.firstName=m)},null,8,["modelValue"]),T(c,{name:"last-name",label:"Last Name","input-type":"text","is-required":!0,modelValue:n.form.lastName,"onUpdate:modelValue":e[2]||(e[2]=m=>n.form.lastName=m)},null,8,["modelValue"]),T(c,{name:"email",label:"Email","input-type":"email","is-required":!0,modelValue:n.form.email,"onUpdate:modelValue":e[3]||(e[3]=m=>n.form.email=m)},null,8,["modelValue"]),T(c,{name:"social-link",label:"Social link","input-type":"text","is-required":!1,modelValue:n.form.socialLink,"onUpdate:modelValue":e[4]||(e[4]=m=>n.form.socialLink=m)},null,8,["modelValue"]),h("div",Jh,[h("button",{type:"submit",class:"button button--lime",disabled:!n.isFormValid},"Submit",8,Qh),n.isFormValid?E("",!0):(f(),_("span",Xh,[A("Please fill in all required "),Zh,A(" fields")]))])],32)])],2),h("div",ed,[n.messages.length?(f(),L(d,{key:0,messages:n.messages,type:"success"},null,8,["messages"])):E("",!0),h("div",td,[h("button",{type:"button",class:"button button--lime",onClick:e[6]||(e[6]=m=>{n.isLayoutVisible=!0,n.action="Add"})}," Add Parent ")]),n.entities!==null&&n.entities.length>0?(f(),_("div",sd,[h("ul",rd,[nd,(f(!0),_(F,null,z(n.entities,(m,y)=>(f(),_("li",{key:m.ID,class:"entities__item entities__item--parent"},[h("span",od,S(y+1)+".",1),h("span",id,S(m.first_name)+" "+S(m.last_name),1),h("span",ad,S(m.athletes),1),h("div",ld,[m.is_activated==="yes"?(f(),_("span",cd,"Yes")):m.is_activated==="no"||!m.is_activated?(f(),_("span",ud,"No")):m.is_activated==="expired"?(f(),_("span",hd,"Expired")):E("",!0)]),h("div",dd,[h("button",{type:"button",class:"entities__action",onClick:p=>o.edit(m)},"Edit",8,pd),h("button",{type:"button",class:"entities__action",onClick:p=>o.remove(m.ID)},"Remove",8,md),m.is_activated==="expired"||!m.is_activated?(f(),_("button",{key:0,type:"button",class:"entities__action",onClick:p=>o.resend(m.ID)},"Resend activation Link ",8,fd)):E("",!0)])]))),128))])])):n.entities!==null&&n.entities.length===0?(f(),_("p",yd,"You don't have associated parents yet")):E("",!0)])])],64)}const vd=oe(Wh,[["render",_d]]);const gd={name:"RoleSwitcher",emits:["changeOption"],props:{initialRole:{type:String},userRoles:{type:Array}},watch:{checkedRoles(){this.$emit("changeOption",{option:this.option,checkedRoles:this.checkedRoles})}},data(){return{option:!1,checkedRoles:[],roles:[{title:"Coach",value:"coach"},{title:"Parent",value:"parent"}]}},methods:{switchOption(){this.option=!this.option,this.option||(this.checkedRoles=[this.initialRole]),this.$emit("changeOption",{option:this.option,checkedRoles:this.checkedRoles})}},mounted(){this.option=this.userRoles.length>1,this.checkedRoles=this.userRoles}},Pd=t=>(Kr("data-v-a8d9c5cd"),t=t(),Yr(),t),bd={class:"role-switcher"},Td=Pd(()=>h("p",{class:"role-switcher__caption"},"Do you want to use this account as multiple roles for this account?",-1)),Sd={class:"role-switcher__input-holder"},Ed=["value","disabled"],wd={class:"role-switcher__label"};function Od(t,e,s,r,n,o){return f(),_("div",bd,[Td,h("div",{class:$(["role-switcher__options",{no:!this.option,yes:this.option}]),onClick:e[0]||(e[0]=(...l)=>o.switchOption&&o.switchOption(...l))},[h("span",{class:$(["role-switcher__option",{active:!this.option}])},"No",2),h("span",{class:$(["role-switcher__option",{active:this.option}])},"Yes",2)],2),h("ul",{class:$(["role-switcher__roles",{active:this.option}])},[(f(!0),_(F,null,z(n.roles,l=>(f(),_("li",{key:l.title,class:"role-switcher__role"},[h("label",Sd,[mt(h("input",{type:"checkbox","onUpdate:modelValue":e[1]||(e[1]=i=>n.checkedRoles=i),value:l.value,disabled:s.initialRole===l.value,class:"role-switcher__input"},null,8,Ed),[[In,n.checkedRoles]]),h("span",wd,S(l.title)+" "+S(s.initialRole===l.value?"(Initial role)":""),1)])]))),128))],2)])}const $d=oe(gd,[["render",Od],["__scopeId","data-v-a8d9c5cd"]]),Ad="/wp-content/themes/player-key/dist/icon-type-notice.e8899e4b.svg",xd="/wp-content/themes/player-key/dist/icon-type-info.e2e79b17.svg";const kd={name:"Notifications",components:{Loader:Te,Heading:He},data(){return{isLoading:!1,notifications:[]}},props:{type:{type:String,required:!0}},computed:{newNotifications(){return this.$store.state.notification.notifications.filter(t=>t.status==="new")}},methods:{async markAllRead(){this.isLoading=!0,this.$store.dispatch("markAllRead",{token:this.$store.state.authentication.token,currentRole:this.$store.state.authentication.currentRole}).then(()=>{this.isLoading=!1})},async removeAll(){this.isLoading=!0,this.$store.dispatch("removeAll",{token:this.$store.state.authentication.token,currentRole:this.$store.state.authentication.currentRole}).then(()=>{this.isLoading=!1})}},mounted(){this.isLoading=!0,this.$store.dispatch("getNotifications",{token:this.$store.state.authentication.token,currentRole:this.$store.state.authentication.currentRole}).then(()=>{this.isLoading=!1})}},Rd={class:"notifications"},Cd={class:"notifications__actions"},Id={key:0,class:"notifications__list"},Ld={key:0,class:"notifications__new-label"},Fd={key:1,src:Ad,alt:"",class:"notifications__icon notifications__icon--notice"},Md={key:2,src:xd,alt:"",class:"notifications__icon"},Nd={class:"notifications__content"},Dd=h("div",{class:"notifications__item-actions"},null,-1),Gd={key:1,class:"notifications__note"};function Vd(t,e,s,r,n,o){const l=w("Loader"),i=w("Heading");return f(),_(F,null,[T(l,{class:$({active:n.isLoading})},null,8,["class"]),h("div",Rd,[h("div",{class:$(["wrapper notifications__wrapper",`notifications__wrapper--${s.type}`])},[T(i,{level:s.type==="new"?2:1,align:s.type==="new"?"left":"center"},{default:B(()=>[A(S(s.type==="new"?"New notifications:":"Notifications"),1)]),_:1},8,["level","align"]),h("div",Cd,[this.$store.state.notification.notifications.length&&s.type==="all"?(f(),_("button",{key:0,class:"button button--black notifications__remove-all-button",onClick:e[0]||(e[0]=(...u)=>o.removeAll&&o.removeAll(...u))},"Remove all")):E("",!0),this.$store.state.notification.newNotifications?(f(),_("button",{key:1,class:"button button--lime notifications__mark-read-button",onClick:e[1]||(e[1]=(...u)=>o.markAllRead&&o.markAllRead(...u))},"Mark all read")):E("",!0)]),this.$store.state.notification.notifications.length?(f(),_("ul",Id,[(f(!0),_(F,null,z(this.$store.state.notification.notifications,u=>(f(),_("li",{key:u.ID,class:$(["notifications__item",`notifications__item--${u.type}`])},[u.status==="new"?(f(),_("span",Ld,"New")):E("",!0),u.type==="notice"?(f(),_("img",Fd)):E("",!0),u.type==="info"?(f(),_("img",Md)):E("",!0),h("div",Nd,S(u.message),1),Dd],2))),128))])):n.isLoading===!1?(f(),_("p",Gd,"There are no notifications")):E("",!0)],2)])],64)}const $n=oe(kd,[["render",Vd]]);const Ud={name:"Profile",components:{Notifications:$n,ErrorList:ks,FormItemText:zt,Heading:He,Loader:Te,MessageList:xs,RoleSwitcher:$d},data(){const t={};return Ks[this.$store.state.authentication.currentRole].forEach(e=>{e.fields.forEach(s=>{t[s.model]="",s.model==="email"&&(s.note=`You can change your email, but your current login (${this.$store.state.authentication.currentUser.user_login}) will remain the same.`),s.model==="password"&&(s.note="If you don't want to change your password, leave these fields blank.")})}),t.role=this.$store.state.authentication.currentRole,t.multipleRoles=!1,t.roles=[],{errors:[],entities:null,form:t,formFields:Ks,isFormValid:!1,isLayoutVisible:!1,isSubmitting:!1,isLoading:!1,messages:[],user:this.$store.state.authentication.currentUser}},watch:{form:{handler(){this.errors=[],this.isFormValid=this.isRequiredFieldsFiled()},deep:!0}},methods:{checkPasswords(){if(this.form.password!==""){if(this.form.password!==this.form.passwordRepeat)return this.errors.push("Passwords must match"),!1;if(this.form.password.length<7)return this.errors.push("Password must consist of at least 7 characters"),!1;if(this.form.password.length<7)return this.errors.push("Password must contain at least 7 characters"),!1;if(!/^(?=.*\d)(?=.*[!@#$%^&*])(?=.*[a-z])(?=.*[A-Z]).{7,}$/.test(this.form.password))return this.errors.push("Password must contain symbol, upper and lower case letters and a number"),!1}return!0},closeLayout(){this.isLayoutVisible=!1,this.errors=[]},isRequiredFieldsFiled(){const t={coach:["firstName","lastName","team","parent","birthday","email"],parent:["firstName","lastName","email"]};let e=!0;return t[this.$store.state.authentication.currentRole].forEach(s=>{this.form[s]===""&&(e=!1)}),this.form.multipleRoles&&this.form.roles.length===1&&(e=!1),e},async formSubmit(){this.isSubmitting=!0,this.errors=[],this.messages=[],this.checkPasswords()?await Ps.editUser({token:this.$store.state.authentication.token,currentRole:this.$store.state.authentication.currentRole,form:this.form}).then(t=>{t.data.success?(this.$store.commit("editUserSuccess",t.data.data),this.messages.push("Your data has been updated successfully!"),this.isLayoutVisible=!1,this.fetchData()):this.errors.push(t.data.data),this.isSubmitting=!1}):this.isSubmitting=!1},async fetchData(){await Ps.getRoleStatistics({currentRole:this.$store.state.authentication.currentRole,token:this.$store.state.authentication.token}).then(t=>{t.data.success&&(this.entities=t.data.data),this.isLoading=!1})},setRoles(t){this.form.multipleRoles=t.option,this.form.roles=t.checkedRoles},setUserFormData(){if(this.form.firstName=this.user.first_name,this.form.lastName=this.user.last_name,this.form.email=this.user.email,this.$store.state.authentication.currentRole==="coach"){let t=new Date(this.user.birthday);this.form.birthday=`${t.getFullYear()}-${t.getMonth()<10?"0"+(t.getMonth()+1):t.getMonth()+1}-${t.getDate()}`,this.form.address=this.user.address,this.form.town=this.user.town,this.form.state=this.user.state,this.form.zipCode=this.user.zip_code}},changeRole(){this.isLoading=!0,this.$store.dispatch("changeUserRole",{token:this.$store.state.authentication.token,role:this.$store.state.authentication.currentRole==="coach"?"parent":"coach"}).then(()=>{this.fetchData(),this.$store.dispatch("getNotifications",{token:this.$store.state.authentication.token,currentRole:this.$store.state.authentication.currentRole})})}},mounted(){this.fetchData(),this.setUserFormData()}},An=t=>(Kr("data-v-6ac1c23a"),t=t(),Yr(),t),qd={class:"board"},Bd={class:"wrapper board__wrapper"},Hd=An(()=>h("svg",{viewBox:"0 0 50 50"},[h("path",{d:"M 7.71875 6.28125 L 6.28125 7.71875 L 23.5625 25 L 6.28125 42.28125 L 7.71875 43.71875 L 25 26.4375 L 42.28125 43.71875 L 43.71875 42.28125 L 26.4375 25 L 43.71875 7.71875 L 42.28125 6.28125 L 25 23.5625 Z"})],-1)),Wd=[Hd],jd={class:"entities__layout-inner"},zd={class:"form__fieldset"},Kd={class:"form__actions"},Yd=["disabled"],Jd={key:0,class:"form__actions-note"},Qd=An(()=>h("sup",null,"(*)",-1)),Xd={class:"board__account-name"},Zd={class:"board__entities"},ep={class:"board__entity"},tp={class:"board__entity-title"},sp={class:"board__entity-count"};function rp(t,e,s,r,n,o){const l=w("Loader"),i=w("ErrorList"),u=w("Heading"),c=w("RoleSwitcher"),d=w("FormItemText"),m=w("MessageList"),y=w("Notifications"),p=w("RouterLink");return f(),_(F,null,[T(l,{class:$({active:n.entities===null||n.isLoading})},null,8,["class"]),h("div",qd,[h("div",Bd,[this.$store.state.authentication.validationErrors.length?(f(),L(i,{key:0,errors:this.$store.state.authentication.validationErrors},null,8,["errors"])):E("",!0),h("div",{class:$(["entities__layout",{active:n.isLayoutVisible}])},[T(l,{class:$({active:n.isSubmitting})},null,8,["class"]),h("button",{class:"entities__close-button",onClick:e[0]||(e[0]=(...v)=>o.closeLayout&&o.closeLayout(...v))},Wd),h("div",jd,[T(u,{level:2},{default:B(()=>[A("Edit personal data")]),_:1}),n.errors.length?(f(),L(i,{key:0,errors:n.errors},null,8,["errors"])):E("",!0),h("form",{onSubmit:e[1]||(e[1]=X((...v)=>o.formSubmit&&o.formSubmit(...v),["prevent"]))},[T(c,{"initial-role":n.user.initial_role,"user-roles":n.user.roles,onChangeOption:o.setRoles},null,8,["initial-role","user-roles","onChangeOption"]),(f(!0),_(F,null,z(n.formFields[this.$store.state.authentication.currentRole],(v,b)=>(f(),_("div",zd,[T(u,{level:3,align:"left",class:$("form__fieldset-title")},{default:B(()=>[A(S(`${b+1}. ${v.title}`),1)]),_:2},1024),(f(!0),_(F,null,z(v.fields,P=>(f(),L(d,{name:P.name,"is-required":P.isRequired&&P.type!=="password",label:P.label,"input-type":P.type,"css-modifier":P.cssModifier??P.cssModifier,note:P.note,modelValue:n.form[P.model],"onUpdate:modelValue":g=>n.form[P.model]=g},null,8,["name","is-required","label","input-type","css-modifier","note","modelValue","onUpdate:modelValue"]))),256))]))),256)),h("div",Kd,[h("button",{type:"submit",class:"button button--lime",disabled:!n.isFormValid},"Submit",8,Yd),n.isFormValid?E("",!0):(f(),_("span",Jd,[A("Please fill in all required "),Qd,A(" fields")]))])],32)])],2),n.messages.length>0?(f(),L(m,{key:1,messages:n.messages,type:"success"},null,8,["messages"])):E("",!0),T(u,{level:1},{default:B(()=>[A("Board")]),_:1}),h("h2",Xd,[A(S(n.user.display_name)+" ",1),h("button",{class:"board__account-edit",onClick:e[2]||(e[2]=()=>{this.isLayoutVisible=!0})},"Edit")]),Object.keys(this.$store.state.authentication.currentUser.roles).length>1?(f(),_("div",{key:2,class:$(["board__roles-toggle",{coach:this.$store.state.authentication.currentRole==="coach",parent:this.$store.state.authentication.currentRole==="parent"}]),onClick:e[3]||(e[3]=(...v)=>o.changeRole&&o.changeRole(...v))},[h("span",{class:$(["board__role",{active:this.$store.state.authentication.currentRole==="coach"}])},"Coach",2),h("span",{class:$(["board__role",{active:this.$store.state.authentication.currentRole==="parent"}])},"Parent",2)],2)):E("",!0),this.$store.state.notification.newNotifications?(f(),L(y,{key:3,type:"new"})):E("",!0),h("div",Zd,[(f(!0),_(F,null,z(n.entities,(v,b)=>(f(),_("div",ep,[T(p,{to:{name:"board-entity",params:{entity:b}}},{default:B(()=>[h("h3",tp,[A(S(b)+" ",1),h("span",null,S(b),1)]),h("span",sp,S(v),1)]),_:2},1032,["to"])]))),256))])])])],64)}const np=oe(Ud,[["render",rp],["__scopeId","data-v-6ac1c23a"]]),op={name:"Payments",components:{Loader:Te,Heading:He},data(){return{entities:null}},methods:{async fetchData(){await De.getPayments({token:this.$store.state.authentication.token,currentRole:this.$store.state.authentication.currentRole}).then(t=>{t.data.success?this.entities=t.data.data:this.entities=[]})}},mounted(){this.fetchData()}},ip={class:"entities"},ap={class:"wrapper entities__wrapper"},lp={key:0,class:"entities__list-holder"},cp={class:"entities__list"},up=jt('<li class="entities__item entities__item--payment"><span class="entities__cell">#</span><span class="entities__cell">Payment ID</span><span class="entities__cell">Athlete</span><span class="entities__cell">DateTime</span><span class="entities__cell">Status</span></li>',1),hp={class:"entities__cell"},dp={class:"entities__cell"},pp={class:"entities__cell"},mp={class:"entities__cell"},fp={key:1};function yp(t,e,s,r,n,o){const l=w("Loader"),i=w("Heading");return f(),_(F,null,[T(l,{class:$({active:n.entities===null})},null,8,["class"]),T(i,{level:1},{default:B(()=>[A("Payments")]),_:1}),h("div",ip,[h("div",ap,[n.entities!==null&&n.entities.length>0?(f(),_("div",lp,[h("ul",cp,[up,(f(!0),_(F,null,z(n.entities,(u,c)=>(f(),_("li",{key:u.ID,class:"entities__item entities__item--payment"},[h("span",hp,S(c+1)+".",1),h("span",dp,S(u.ID),1),h("span",pp,S(u.athlete),1),h("span",mp,S(u.date),1),h("span",{class:$(["entities__cell entities__payment-status",`entities__payment-status--${u.status}`])},S(u.status),3)]))),128))])])):n.entities!==null&&n.entities.length===0?(f(),_("p",fp,"You haven't created any payments yet")):E("",!0)])])],64)}const _p=oe(op,[["render",yp]]),vp={components:{Notifications:$n,Athletes:Hh,Board:np,BoardNavigation:Bn,Loader:Te,Parents:vd,Payments:_p,Teams:_o},data(){return{currentEntity:this.$route.params.entity,entities:null,entitiesScheme:{coach:["teams","parents","athletes","payments","notifications"],parent:["athletes","payments","notifications"]},isLoaded:this.$store.state.authentication.isUserLoggedIn}},mounted(){this.$store.state.authentication.isUserLoggedIn?(this.$store.dispatch("getNotifications",{token:this.$store.state.authentication.token,currentRole:this.$store.state.authentication.currentRole}),setInterval(()=>{this.$store.dispatch("getNotifications",{token:this.$store.state.authentication.token,currentRole:this.$store.state.authentication.currentRole})},5e3)):this.$router.push({name:"sign-in"})}},gp={key:0,class:"board"},Pp={key:0,class:"board__view"};function bp(t,e,s,r,n,o){const l=w("Loader"),i=w("BoardNavigation"),u=w("Teams"),c=w("Athletes"),d=w("Parents"),m=w("Payments"),y=w("Notifications"),p=w("Board");return f(),_(F,null,[T(l,{class:$({active:!this.$store.state.authentication.isUserLoggedIn})},null,8,["class"]),this.$store.state.authentication.isUserLoggedIn?(f(),_("div",gp,[T(i,{entities:n.entitiesScheme[this.$store.state.authentication.currentRole]},null,8,["entities"]),n.entitiesScheme[this.$store.state.authentication.currentRole].includes(this.$route.params.entity)?(f(),_("div",Pp,[this.$route.params.entity==="teams"?(f(),L(u,{key:0})):this.$route.params.entity==="athletes"?(f(),L(c,{key:1})):this.$route.params.entity==="parents"?(f(),L(d,{key:2})):this.$route.params.entity==="payments"?(f(),L(m,{key:3})):this.$route.params.entity==="notifications"?(f(),L(y,{key:4,type:"all"})):E("",!0)])):(f(),L(p,{key:1}))])):E("",!0)],64)}const Cp=oe(vp,[["render",bp]]);export{Cp as default};
