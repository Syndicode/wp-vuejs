import{L as n}from"./_chunk.614fe72f.js";import{E as h}from"./_chunk.3293e5cc.js";import{_ as c,f as u,r,o as s,c as m,a as d,n as l,b as p,g as $,h as f,F as y}from"./main.91e8f9e7.js";const k={name:"CompleteParentView",components:{ErrorList:h,Loader:n},data(){return{errors:[],isLoaderActive:!0}},methods:{async checkUser(){u.checkUser(localStorage.getItem("pki-auth")).then(e=>{e.data.success?e.data.data.ID===parseInt(this.$route.query.id)?(this.$store.commit("setAthleteForEdit",{token:this.$route.query.token,id:this.$route.query.id}),this.$router.push({name:"board-entity",params:{entity:"athletes"}})):(this.isLoaderActive=!1,this.errors.push("There are not enough permissions to perform this action")):(this.$store.commit("setAthleteForEdit",{token:this.$route.query.token,id:this.$route.query.id}),this.$router.push({name:"sign-in"}))})}},mounted(){this.checkUser()},watch:{isLoaded(e){e===!0&&this.$store.state.authentication.currentUser.ID===parseInt(this.$route.query.id)?(this.$store.commit("setAthleteForEdit",{token:this.$route.query.token,id:this.$route.query.id}),this.$router.push({name:"board-entity",params:{entity:"athletes"}})):e===!0&&this.$store.state.authentication.currentUser.ID!==this.$route.query.id?(this.isLoaderActive=!1,this.errors.push("There are not enough permissions to perform this action")):e===!1&&(console.log("status - ",e),this.$store.commit("setAthleteForEdit",{token:this.$route.query.token,id:this.$route.query.id}),this.$router.push({name:"sign-in"}))}}},_={class:"wrapper wrapper--form"};function L(e,o,q,g,t,A){const i=r("Loader"),a=r("ErrorList");return s(),m(y,null,[d(i,{class:l({active:t.isLoaderActive})},null,8,["class"]),p("div",_,[t.errors.length?(s(),$(a,{key:0,errors:t.errors},null,8,["errors"])):f("",!0)])],64)}const I=c(k,[["render",L]]);export{I as default};
